!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire62cb;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){r[e]=t},t.parcelRequire62cb=a);var c=a("bpxeT"),o=a("2TvXO"),i=(document.querySelector(".button--up"),document.querySelector(".js-gallery")),u=(document.querySelector(".pag"),document.querySelector(".search-form")),s=document.querySelector("input.js-search"),d=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),l=document.querySelector(".alert-b"),p=(document.querySelector(".header-buttons"),document.querySelectorAll(".header-button"),a("iqi4A")),f=a("62hKk"),h=a("225Hw"),m=a("8wgAC"),y=a("8RZ1j"),v=(c=a("bpxeT"),o=a("2TvXO"),f=a("62hKk"),a("6hXJ8")),x=new(0,f.default),w=document.querySelector(".button2"),b=document.querySelector(".button1");w.addEventListener("click",(function(){return T.apply(this,arguments)})),b.addEventListener("click",(function(){return M.apply(this,arguments)}));var g=document.querySelector('[data-index="1"]'),k=document.querySelector('[data-index="2"]'),q=document.querySelector('[data-index="3"]'),S=document.querySelector('[data-index="4"]'),L=document.querySelector('[data-index="5"]'),_=document.querySelector('[data-index="6"]');g.addEventListener("click",(function(){return N.apply(this,arguments)})),k.addEventListener("click",(function(){return E.apply(this,arguments)})),q.addEventListener("click",(function(){return j.apply(this,arguments)})),S.addEventListener("click",(function(){return O.apply(this,arguments)})),L.addEventListener("click",(function(){return A.apply(this,arguments)})),_.addEventListener("click",(function(){return X.apply(this,arguments)})),g.hidden=!0,k.hidden=!0,L.hidden=!0,q.textContent=2,S.textContent=3,L.textContent=1,_.textContent=1e3;var C=1;function T(){return(T=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C+=1,B(),I();case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1==C){e.next=4;break}C-=1,B(),I(),e.next=5;break;case 4:return e.abrupt("return",console.log("error"));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function N(){return(N=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=Number(document.querySelector('[data-index="1"]').textContent),I(),e.abrupt("return",B());case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=Number(document.querySelector('[data-index="2"]').textContent),I(),e.abrupt("return",B());case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function j(){return(j=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=Number(document.querySelector('[data-index="3"]').textContent),I(),e.abrupt("return",B());case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function O(){return(O=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=Number(document.querySelector('[data-index="4"]').textContent),I(),e.abrupt("return",B());case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function A(){return(A=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=1,I(),q.hidden=!1,S.hidden=!1,b.hidden=!0,w.hidden=!1,_.hidden=!1,q.textContent=Number(C)+1,S.textContent=Number(C)+2,e.abrupt("return",B());case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function X(){return(X=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C=_.textContent,I(),b.hidden=!1,L.hidden=!1,e.abrupt("return",B());case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function B(){return H.apply(this,arguments)}function H(){return(H=e(c)(e(o).mark((function t(){var n,r,a,c,u,d;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""===s.value){e.next=12;break}return e.next=4,x.getMoviesByName(s.value,C);case 4:n=e.sent,r=n.results,a=(0,v.createMarkup)(r),R(),_.hidden=!0,i.innerHTML=a,e.next=19;break;case 12:return e.next=14,x.fetchTrendingMovies(C);case 14:c=e.sent,u=c.data.results,d=(0,v.createMarkup)(u),R(),i.innerHTML=d;case 19:window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("currentPage").textContent=C,e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Error with search fetch"+e.t0);case 26:case"end":return e.stop()}}),t,null,[[0,23]])})))).apply(this,arguments)}function I(){return J.apply(this,arguments)}function J(){return(J=e(c)(e(o).mark((function t(){return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.textContent=Number(C)+1,S.textContent=Number(C)+2,C>=3&&C<=997&&(b.hidden=!1,g.hidden=!1,k.hidden=!1,L.hidden=!1,k.textContent=C-1,g.textContent=C-2,q.hidden=!1,S.hidden=!1,w.hidden=!1,_.hidden=!1),C<3&&(g.hidden=!0,k.hidden=!0,L.hidden=!0),C>=998&&C<=1e3&&(g.hidden=!1,k.hidden=!1,k.textContent=C-1,g.textContent=C-2),C>=998&&(S.hidden=!0),C>=1e3&&(q.hidden=!0,_.hidden=!0,w.hidden=!0);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}new(0,(f=a("62hKk")).default);var U=new(0,f.default),D=1;function G(){return G=e(c)(e(o).mark((function t(n,r){var a,u,s,p,f,h;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=n.currentTarget.elements.searchQuery.value.trim().toLowerCase()){t.next=7;break}return d.classList.add("visually-hidden"),l.classList.remove("visually-hidden"),setTimeout((function(){location.reload()}),1e3),t.abrupt("return");case 7:return U.query=a,u={root:null,rootMargin:"100px",threshold:1},s=new IntersectionObserver(function(){var t=e(c)(e(o).mark((function t(n,r){return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.forEach(function(){var t=e(c)(e(o).mark((function t(n){var r,c;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isIntersecting){e.next=7;break}return F(),e.next=4,U.getMoviesByName(a,D);case 4:r=e.sent,c=K(r),i.insertAdjacentHTML("beforeend",c);case 7:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u),p=document.querySelector(".pagination-container"),s.observe(p),p.style.opacity="0",p.style.pointerEvents="none",t.next=16,U.getMoviesByName(a,r);case 16:f=t.sent,localStorage.setItem("query",JSON.stringify(f)),0===f.total_results?(l.classList.add("visually-hidden"),d.classList.remove("visually-hidden"),setTimeout((function(){location.reload()}),1e3)):(d.classList.add("visually-hidden"),l.classList.add("visually-hidden"),R(),h=K(f),i.insertAdjacentHTML("beforeend",h));case 19:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}function K(e){return e.results.map((function(e){var t=e.poster_path,n=e.original_title,r=e.genre_ids,a=e.release_date,c=e.id,o=new Date(a),i=(0,h.getGenresName)(r),u=(0,m.sliceGenres)(i),s="".concat(p.urls.BASE_IMAGE_URL).concat(t);return null===t&&(s="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),'<li class="card__item" data-id='.concat(c,'>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="').concat(s,'"\n      alt="').concat(n,'"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">').concat(n,'</h2>\n    <div class="card__info">\n      <p class="card__genres">').concat(u.join(", "),'</p>\n      <p class="card__year">').concat(o.getFullYear(),"</p>\n    </div>\n  </div>\n</li>")})).join("")}function R(){i.innerHTML=""}function F(){return D+=1}u.addEventListener("submit",(function(e,t){return G.apply(this,arguments)})),(0,y.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});c=a("bpxeT"),o=a("2TvXO"),f=a("62hKk"),v=a("6hXJ8");var P=new(0,f.default);function Y(){return(Y=e(c)(e(o).mark((function t(){var n,r,a;return e(o).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.fetchTrendingMovies();case 2:n=e.sent,r=n.data.results,localStorage.setItem("trendingFilms",JSON.stringify(r)),a=(0,v.createMarkup)(r),i.insertAdjacentHTML("beforeend",a);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return Y.apply(this,arguments)})),a("ewLqX"),a("5NyqP"),a("9VC5X"),a("4pmU7"),a("84aGp"),a("99tBi"),a("iSUmJ");f=a("62hKk");a("4pmU7");new(0,f.default);a("5N6jj"),a("9LWrY"),a("3DdUG");c=a("bpxeT"),o=a("2TvXO"),f=a("62hKk"),v=a("6hXJ8"),new(0,f.default)}();
//# sourceMappingURL=index.74c25d23.js.map
