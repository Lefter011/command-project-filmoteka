{"mappings":"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","sources":["src/index.js","src/js/header-search.js","src/js/utils/refs.js","src/js/hero.js","src/js/pagination-test/pagination-test.js","src/js/modal-card-film/save-films-to-storage.js","src/js/pagination-test/pagin-search.js"],"sourcesContent":["import './js/utils/handlebars-helpers';\nimport './js/theme';\nimport './js/footer_modal';\n// import { localStorageFilms } from\n\nimport './js/header-search';\nimport './js/hero';\nimport './js/utils/set-genres-to-localstorage';\n\nimport './js/utils/loc-storage';\n\nimport './js/modal-card-film/modal-refs';\nimport './js/modal-card-film/render-film';\nimport './js/modal-card-film/modal-open-close';\nimport './js/modal-card-film/save-films-to-storage';\nimport './js/modal-card-film/add-to-watched';\nimport './js/modal-card-film/add-to-queue';\nimport './js/modal-card-film/check-saved-films';\n\nimport './js/pagination-test/pagination-test';\nimport './js/pagination-test/pagin-search';\n\n","import {\n  containerGallery,\n  searchFormRef,\n  notifyARef,\n  notifyBRef,\n} from './utils/refs';\nimport { urls } from './utils/config';\nimport ApiService from './ApiService';\nimport { getGenresName } from './utils/get-genres-name';\nimport { sliceGenres } from './utils/slice-genres';\nimport { addBackToTop } from 'vanilla-back-to-top';\n\nconst api = new ApiService();\n\nsearchFormRef.addEventListener('submit', onSubmit);\n\nexport async function onSubmit(event, page) {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  if (!searchQuery) {\n    notifyARef.classList.add('visually-hidden');\n    notifyBRef.classList.remove('visually-hidden');\n    return;\n  }\n  api.query = searchQuery;\n\n  const data = await api.getMoviesByName(searchQuery, page);\n  localStorage.setItem('query', JSON.stringify(data));\n\n  if (data.total_results === 0) {\n    notifyBRef.classList.add('visually-hidden');\n    notifyARef.classList.remove('visually-hidden');\n  } else {\n    notifyARef.classList.add('visually-hidden');\n    notifyBRef.classList.add('visually-hidden');\n    clearMarkup();\n    const markup = createMarkup(data);\n    containerGallery.insertAdjacentHTML('beforeend', markup);\n  }\n}\n\nexport function createMarkup(data) {\n  const { results } = data;\n  return results\n    .map(({ poster_path, original_title, genre_ids, release_date, id }) => {\n      const releaseYear = release_date.substring(0, 4);\n      const genres = getGenresName(genre_ids);\n      const slicedGenres = sliceGenres(genres);\n      let posterLink = `${urls.BASE_IMAGE_URL}${poster_path}`;\n      if (poster_path === null) {\n        posterLink = 'https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg';\n      }\n      return `<li class=\"card__item\" data-id=${id}>\n  <div class=\"card__img-wrap js-modal-trigger\">\n    <img\n      src=\"${posterLink}\"\n      alt=\"${original_title}\"\n      class=\"card__img\"\n    />\n  </div>\n  <div class=\"card__text-wrap js-modal-trigger\">\n    <h2 class=\"card__name\">${original_title}</h2>\n    <div class=\"card__info\">\n      <p class=\"card__genres\">${slicedGenres.join(', ')}</p>\n      <p class=\"card__year\">${releaseYear}</p>\n    </div>\n  </div>\n</li>`;\n    })\n    .join('');\n}\n\nexport function clearMarkup() {\n  containerGallery.innerHTML = '';\n}\n\naddBackToTop({\n  diameter: 45,\n  backgroundColor: 'transparent',\n  textColor: '#e5882c',\n});\n","//refs\n//Button-up\nconst buttonUpRef = document.querySelector('.button--up');\n\n//Gallery main container\nconst containerGallery = document.querySelector('.js-gallery');\n\n//Pagination container\nconst containerPag = document.querySelector('.pag');\n\n//Searching form\nconst searchFormRef = document.querySelector('.search-form');\n\nconst inputRef = document.querySelector('input.js-search')\n\n// movie card in Modal\nconst movieCardModalRef = document.querySelector('.js-movie-card');\n\n// modal team content\nconst accordionRef = document.querySelector('#accordion');\n\n// spinner\nconst spinnerRef = document.querySelector('.js-spinner');\n\n// Header\nconst headerRef = document.querySelector('#header');\n\nconst notifyARef = document.querySelector('.alert-a');\nconst notifyBRef = document.querySelector('.alert-b');\n\n// Library\nconst headerButtonsContainerRef = document.querySelector('.header-buttons');\n\nconst headerButtonsRef = document.querySelectorAll('.header-button');\n\nexport {\n  buttonUpRef,\n  containerGallery,\n  containerPag,\n  searchFormRef,\n  inputRef,\n  movieCardModalRef,\n  accordionRef,\n  spinnerRef,\n  headerRef,\n  headerButtonsContainerRef,\n  headerButtonsRef,\n  notifyARef,\n  notifyBRef,\n};\n","import ApiService from './ApiService';\nimport { containerGallery } from './utils/refs';\nimport { createMarkup } from './utils/createMarkup';\nimport { currentPage } from './pagination-test/pagination-test';\n\nconst apiMovie = new ApiService();\n\nexport async function homePage() {\n  const res = await apiMovie.fetchTrendingMovies();\n  const movieObj = res.data.results;\n  localStorage.setItem('trendingFilms', JSON.stringify(movieObj));\n\n  const markup = createMarkup(movieObj);\n  containerGallery.insertAdjacentHTML('beforeend', markup);\n}\n\ndocument.addEventListener('DOMContentLoaded', homePage);\n","import ApiService from '../ApiService';\nimport { containerGallery } from '../utils/refs';\nimport { createMarkup } from '../utils/createMarkup';\nimport { clearMarkup } from '../header-search';\n\nconst api = new ApiService();\n\nconst butPlus = document.querySelector('.button2');\nconst butMinus = document.querySelector('.button1');\n\nbutPlus.addEventListener('click', onButtonClickPlus);\nbutMinus.addEventListener('click', onButtonClickMinus);\n\nconst btn1Ref = document.querySelector('[data-index=\"1\"]');\nconst btn2Ref = document.querySelector('[data-index=\"2\"]');\nconst btn3Ref = document.querySelector('[data-index=\"3\"]');\nconst btn4Ref = document.querySelector('[data-index=\"4\"]');\nconst btn5Ref = document.querySelector('[data-index=\"5\"]');\nconst btn6Ref = document.querySelector('[data-index=\"6\"]');\n\nbtn1Ref.addEventListener('click', clickToPage1);\nbtn2Ref.addEventListener('click', clickToPage2);\nbtn3Ref.addEventListener('click', clickToPage3);\nbtn4Ref.addEventListener('click', clickToPage4);\nbtn5Ref.addEventListener('click', clickToPage5);\nbtn6Ref.addEventListener('click', clickToPage6);\n\nconst res = localStorage.getItem('query');\nconst arrayEl = JSON.parse(res);\nconst totalPage = arrayEl.total_pages;\nconsole.log(totalPage);\n\nbtn2Ref.hidden = true;\nbtn3Ref.textContent = 2;\nbtn4Ref.textContent = 3;\nbtn5Ref.textContent = 1;\nbtn6Ref.textContent = 1000;\n\nlet currentPage = 1;\n\nasync function onButtonClickPlus() {\n  currentPage += 1;\n  renderPage();\n  checkPageNumber();\n}\n\nasync function onButtonClickMinus() {\n  if (currentPage != 1) {\n    currentPage -= 1;\n    renderPage();\n    checkPageNumber();\n  } else {\n    return console.log('error');\n  }\n}\n\nasync function clickToPage1() {\n  currentPage = Number(document.querySelector('[data-index=\"1\"]').textContent);\n  checkPageNumber();\n  return renderPage();\n}\n\nasync function clickToPage2() {\n  currentPage = Number(document.querySelector('[data-index=\"2\"]').textContent);\n  checkPageNumber();\n  return renderPage();\n}\n\nasync function clickToPage3() {\n  currentPage = Number(document.querySelector('[data-index=\"3\"]').textContent);\n  checkPageNumber();\n  return renderPage();\n}\n\nasync function clickToPage4() {\n  currentPage = Number(document.querySelector('[data-index=\"4\"]').textContent);\n  checkPageNumber();\n  return renderPage();\n}\n\nasync function clickToPage5() {\n  currentPage = 1;\n  checkPageNumber();\n  return renderPage();\n}\n\nasync function clickToPage6() {\n  currentPage = 1;\n  checkPageNumber();\n  return renderPage();\n}\n\nasync function renderPage() {\n  try {\n    const res = await api.fetchTrendingMovies(currentPage);\n    const data = res.data.results;\n    const markup = createMarkup(data);\n    clearMarkup();\n    containerGallery.innerHTML = markup;\n    // window.scrollTo({ top: 0, behavior: 'smooth' });\n    document.getElementById('currentPage').textContent = currentPage;\n  } catch (error) {\n    console.error('Error with search fetch' + error);\n  }\n}\n\nasync function checkPageNumber() {\n  btn3Ref.textContent = currentPage + 1;\n  btn4Ref.textContent = currentPage + 2;\n  if (currentPage >= 3) {\n    btn1Ref.hidden = false;\n    btn2Ref.hidden = false;\n    btn1Ref.textContent = currentPage - 2;\n    btn2Ref.textContent = currentPage - 1;\n  } else {\n    btn1Ref.hidden = true;\n    btn2Ref.hidden = true;\n  }\n}\n\nexport { currentPage };\n","import ApiService from '../ApiService';\nimport { localStore } from '../utils/loc-storage';\n\nconst api = new ApiService();\n// async function getFilms() {\n//   const res = await api.fetchTrendingMovies();\n//   localStore.save('trendingFilms', res.data.results);\n// }\n\n// getFilms();\n","import ApiService from '../ApiService';\nimport { containerGallery, notifyARef, notifyBRef } from '../utils/refs';\nimport { clearMarkup } from '../header-search';\nimport { createMarkup } from '../utils/createMarkup';\n\nconst api = new ApiService();\n\nexport async function searchMovies(query, page = 1) {\n  try {\n    const data = await api.getMoviesByName(query, page);\n    const result = data.results;\n    if (data.results.length === 0) {\n      notifyBRef.classList.add('visually-hidden');\n      notifyARef.classList.remove('visually-hidden');\n    } else {\n      notifyARef.classList.add('visually-hidden');\n      notifyBRef.classList.add('visually-hidden');\n      const markup = createMarkup(result);\n      clearMarkup();\n      containerGallery.innerHTML = markup;\n    }\n  } catch (error) {\n    console.error('Error with search fetch' + error);\n  }\n}\n"],"names":["parcelRequire","$bpxeT","$d58adb3c46fa8008$export$66921f676455c525","document","querySelector","$d58adb3c46fa8008$export$18967640b1430a3","$d58adb3c46fa8008$export$161bf839e562c1df","$d58adb3c46fa8008$export$8759e09ada778193","querySelectorAll","$ee28df1d34dc1840$var$api","$62hKk","default","$ee28df1d34dc1840$var$_onSubmit","$parcel$interopDefault","$2TvXO","mark","_callee","event","page","searchQuery","data","markup","preventDefault","currentTarget","elements","value","trim","toLowerCase","classList","add","remove","query","getMoviesByName","_ctx","sent","localStorage","setItem","JSON","stringify","total_results","$ee28df1d34dc1840$export$d1927cf3bc385580","$ee28df1d34dc1840$export$24783e9f3a24abe4","insertAdjacentHTML","apply","this","arguments","results","map","param","poster_path","original_title","genre_ids","release_date","id","releaseYear","substring","genres","$225Hw","getGenresName","slicedGenres","$8wgAC","sliceGenres","posterLink","concat","$iqi4A","urls","BASE_IMAGE_URL","join","innerHTML","addEventListener","$8RZ1j","addBackToTop","diameter","backgroundColor","textColor","$81a46dfdda23fbdf$var$api","$81a46dfdda23fbdf$var$butPlus","$81a46dfdda23fbdf$var$butMinus","$81a46dfdda23fbdf$var$_onButtonClickPlus","$81a46dfdda23fbdf$var$_onButtonClickMinus","$81a46dfdda23fbdf$var$btn1Ref","$81a46dfdda23fbdf$var$btn2Ref","$81a46dfdda23fbdf$var$btn3Ref","$81a46dfdda23fbdf$var$btn4Ref","$81a46dfdda23fbdf$var$btn5Ref","$81a46dfdda23fbdf$var$btn6Ref","$81a46dfdda23fbdf$var$_clickToPage1","$81a46dfdda23fbdf$var$_clickToPage2","$81a46dfdda23fbdf$var$_clickToPage3","$81a46dfdda23fbdf$var$_clickToPage4","$81a46dfdda23fbdf$var$_clickToPage5","$81a46dfdda23fbdf$var$_clickToPage6","$81a46dfdda23fbdf$var$res","getItem","$81a46dfdda23fbdf$var$totalPage","parse","total_pages","console","log","hidden","textContent","$81a46dfdda23fbdf$export$385972cd6b54c3e1","$81a46dfdda23fbdf$var$renderPage","$81a46dfdda23fbdf$var$checkPageNumber","Number","$81a46dfdda23fbdf$var$_renderPage","res1","fetchTrendingMovies","$6hXJ8","createMarkup","getElementById","error","t0","$81a46dfdda23fbdf$var$_checkPageNumber","$c519d076f6352209$var$apiMovie","$c519d076f6352209$var$_homePage","res","movieObj"],"version":3,"file":"index.7f72a4d5.js.map"}