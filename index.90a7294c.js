function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire62cb;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire62cb=o);document.querySelector(".button--up");const a=document.querySelector(".js-gallery"),i=(document.querySelector(".pag"),document.querySelector(".search-form")),d=document.querySelector("input.js-search"),c=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),s=document.querySelector(".alert-b");document.querySelector(".header-buttons"),document.querySelectorAll(".header-button");var l=o("hXrWV"),u=o("4kseb"),m=o("aICLh"),g=o("8JeJA"),h=o("4eRSF"),b=(u=o("4kseb"),o("dX4f0"));const y=new(0,u.default),p=document.querySelector(".button2"),f=document.querySelector(".button1");p.addEventListener("click",(async function(){q+=1,M(),w()})),f.addEventListener("click",(async function(){if(1==q)return console.log("error");q-=1,M(),w()}));const v=document.querySelector('[data-index="1"]'),_=document.querySelector('[data-index="2"]'),L=document.querySelector('[data-index="3"]'),S=document.querySelector('[data-index="4"]'),k=document.querySelector('[data-index="5"]'),x=document.querySelector('[data-index="6"]');v.addEventListener("click",(async function(){return q=Number(document.querySelector('[data-index="1"]').textContent),w(),M()})),_.addEventListener("click",(async function(){return q=Number(document.querySelector('[data-index="2"]').textContent),w(),M()})),L.addEventListener("click",(async function(){return q=Number(document.querySelector('[data-index="3"]').textContent),w(),M()})),S.addEventListener("click",(async function(){return q=Number(document.querySelector('[data-index="4"]').textContent),w(),M()})),k.addEventListener("click",(async function(){return q=1,w(),L.hidden=!1,S.hidden=!1,f.hidden=!0,p.hidden=!1,x.hidden=!1,L.textContent=Number(q)+1,S.textContent=Number(q)+2,M()})),x.addEventListener("click",(async function(){return q=x.textContent,w(),f.hidden=!1,k.hidden=!1,M()})),v.hidden=!0,_.hidden=!0,k.hidden=!0,L.textContent=2,S.textContent=3,k.textContent=1,x.textContent=1e3;let q=1;async function M(){try{if(""!==d.value){const e=(await y.getMoviesByName(d.value,q)).results,t=(0,b.createMarkup)(e);N(),x.hidden=!0,a.innerHTML=t}else{const e=(await y.fetchTrendingMovies(q)).data.results,t=(0,b.createMarkup)(e);N(),a.innerHTML=t}window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("currentPage").textContent=q}catch(e){console.error("Error with search fetch"+e)}}async function w(){L.textContent=Number(q)+1,S.textContent=Number(q)+2,q>=3&&q<=997&&(f.hidden=!1,v.hidden=!1,_.hidden=!1,k.hidden=!1,_.textContent=q-1,v.textContent=q-2,L.hidden=!1,S.hidden=!1,p.hidden=!1,x.hidden=!1),q<3&&(v.hidden=!0,_.hidden=!0,k.hidden=!0),q>=998&&q<=1e3&&(v.hidden=!1,_.hidden=!1,_.textContent=q-1,v.textContent=q-2),q>=998&&(S.hidden=!0),q>=1e3&&(L.hidden=!0,x.hidden=!0,p.hidden=!0)}new(0,(u=o("4kseb")).default);const C=new(0,u.default);let T=1;function E(e){const{results:t}=e;return t.map((({poster_path:e,original_title:t,genre_ids:n,release_date:r,id:o})=>{const a=new Date(r),i=(0,m.getGenresName)(n),d=(0,g.sliceGenres)(i);let c=`${l.urls.BASE_IMAGE_URL}${e}`;return null===e&&(c="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),`<li class="card__item" data-id=${o}>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="${c}"\n      alt="${t}"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">${t}</h2>\n    <div class="card__info">\n      <p class="card__genres">${d.join(", ")}</p>\n      <p class="card__year">${a.getFullYear()}</p>\n    </div>\n  </div>\n</li>`})).join("")}function N(){a.innerHTML=""}i.addEventListener("submit",(async function(e,t){e.preventDefault();const n=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!n)return c.classList.add("visually-hidden"),s.classList.remove("visually-hidden"),void setTimeout((()=>{location.reload()}),1e3);C.query=n;const r=new IntersectionObserver((async(e,t)=>{e.forEach((async e=>{if(e.isIntersecting){console.log("YEEEY"),T+=1;const e=await C.getMoviesByName(n,T);console.log("io   results",e),console.log("callback   searchQuery",n);const t=E(e);a.insertAdjacentHTML("beforeend",t)}}))}),{root:null,rootMargin:"100px",threshold:1}),o=document.querySelector(".pagination-container");r.observe(o),o.style.opacity="0",o.style.pointerEvents="none";const i=await C.getMoviesByName(n,t);if(localStorage.setItem("query",JSON.stringify(i)),0===i.total_results)s.classList.add("visually-hidden"),c.classList.remove("visually-hidden"),setTimeout((()=>{location.reload()}),1e3);else{c.classList.add("visually-hidden"),s.classList.add("visually-hidden"),N();const e=E(i);a.insertAdjacentHTML("beforeend",e)}})),(0,h.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});u=o("4kseb"),b=o("dX4f0");const j=new(0,u.default);document.addEventListener("DOMContentLoaded",(async function(){const e=(await j.fetchTrendingMovies()).data.results;localStorage.setItem("trendingFilms",JSON.stringify(e));const t=(0,b.createMarkup)(e);a.insertAdjacentHTML("beforeend",t)})),o("HzXMd");var H;H=JSON.parse('[{"username":"Сергій Павлюченко","role":"Developer","image":"https://i.ibb.co/YyF27L5/img-team-sergiy.png","github":"https://github.com/SergeyPavluchenko","id":"1"},{"username":"Ярослава Воробець","role":"Developer","image":"https://i.ibb.co/g6XD07R/img-team-yaroslava.png","github":"https://github.com/Yaroslava-Vorobets","id":"2"},{"username":"Андрій Уткін","role":"Developer","image":"https://i.ibb.co/Gtz0Lx4/img-team-andriy.png","github":"https://github.com/AndreyNik2","id":"3"},{"username":"Катерина Дзюбчук","role":"Developer","image":"https://i.ibb.co/TPzRdYm/img-team-katya.png","github":"https://github.com/Kate-Kitkat19","id":"4"},{"username":"Юлія Пархоменко","role":"Developer","image":"https://i.ibb.co/h7pLcGg/img-team-julia.png","github":"https://github.com/lady-araminta","id":"5"},{"username":"Швець Вікторія","role":"Developer","image":"https://i.ibb.co/3RbrM2N/img-team-viktoria.png","github":"https://github.com/BondarViktoriia","id":"6"},{"username":"Михайло Чернецький","role":"Team lead","image":"https://i.ibb.co/bXdSxKH/img-team-misha.png","github":"https://github.com/Lefter011","id":"7"},{"username":"Уляна Колеснікова","role":"Scrum master","image":"https://i.ibb.co/wLmpFPy/img-team-ulyana.png","github":"https://github.com/Anakole","id":"8"}]');const $={openTeamModal:document.querySelector("[data-new-modal-open]"),closeTeamModal:document.querySelector("[data-new-modal-close]"),teamBackdrop:document.querySelector(".new-footer__modal-backdrop"),teamModal:document.querySelector("[data-new-modal]"),body:document.querySelector("body"),teamList:document.querySelector(".footer__team-list"),memberCard:document.querySelector(".footer__member-card"),title:document.querySelector(".new-footer__title")};(()=>{function t(){$.teamModal.classList.toggle("visually-hidden"),$.body.classList.toggle("no-scroll"),$.memberCard.innerHTML=""}if($.openTeamModal.addEventListener("click",t),$.closeTeamModal.addEventListener("click",t),$.teamBackdrop.addEventListener("click",(function(e){"new-footer__modal-backdrop"===e.target.className&&($.teamModal.classList.add("visually-hidden"),$.memberCard.innerHTML="",$.title.classList.remove("visually-hidden"))})),$.teamModal){$.teamList.addEventListener("click",(function(t){t.preventDefault(),$.memberCard.innerHTML="",$.title.classList.remove("visually-hidden");try{const n=t.target.parentNode.dataset.id,r=function(e){const{username:t,role:n,image:r,github:o,id:a}=e;return`<div class="footer__member-wrap" data-id="${a}">\n  <img src="${r}" alt="image of a member" class="footer__member-img" />\n  <a href="${o}" class="footer__member-link">\n    <div class="footer_member-text">\n      <p class="footer__member-name">${t}</p>\n      <p class="footer__member-role">${n}</p>\n    </div>\n    <img\n      class="footer__member-logo"\n      src="https://i.ibb.co/SnqVKhk/Git-Hub-Mark-32px.png"\n      alt="Git-Hub-Mark-32px"\n      border="0"\n    />\n  </a>\n</div>`}(e(H).find((e=>e.id===n)));$.memberCard.insertAdjacentHTML("beforeend",r),$.title.classList.add("visually-hidden")}catch(e){console.log(e)}}))}})(),(()=>{const t=e(H).map((({image:e,id:t})=>`<li class="footer__team-item" data-id=${t}>\n  <img src="${e}" alt="image of a member" class="footer__team-img" />\n</li>`)).join("");$.teamList.insertAdjacentHTML("beforeend",t)})(),o("4S0r6"),o("46fOB"),o("a1Vwq"),o("gBTz3"),o("lWsHk");u=o("4kseb");o("46fOB");new(0,u.default);o("bbkJ9"),o("dvlOj"),o("kCbOd");u=o("4kseb"),b=o("dX4f0");new(0,u.default);
//# sourceMappingURL=index.90a7294c.js.map
