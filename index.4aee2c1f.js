!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire62cb;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequire62cb=r),r.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r("2p6Fd");var o=r("bpxeT"),s=r("2TvXO"),c=(document.querySelector(".button--up"),document.querySelector(".js-gallery")),i=(document.querySelector(".pag"),document.querySelector(".search-form")),d=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),l=document.querySelector(".alert-b"),u=(document.querySelector(".header-buttons"),document.querySelectorAll(".header-button"),r("iqi4A")),p=(o=r("bpxeT"),r("8MBJY")),m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(e,t){var n=v.default(e,t,"get");return f.default(e,n)};var v=_(r("1UHsN")),f=_(r("ffZzF"));function _(e){return e&&e.__esModule?e:{default:e}}var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(e,t,n){b.default(e,t),t.set(e,n)};var y,b=(y=r("5k7tO"))&&y.__esModule?y:{default:y};var g=r("a2hTj"),w=(s=r("2TvXO"),u=r("iqi4A"),r("dIxxU").default),x=new WeakMap,k=new WeakMap,S=new WeakMap,L=function(){"use strict";function t(){e(p)(this,t),e(h)(this,x,{writable:!0,value:{params:{api_key:u.API_KEY,query:"",page:1,include_adult:!1}}}),e(h)(this,k,{writable:!0,value:{params:{api_key:u.API_KEY}}}),e(h)(this,S,{writable:!0,value:{params:{api_key:u.API_KEY}}})}return e(g)(t,[{key:"fetchGenres",value:function(){var t=this;return e(o)(e(s).mark((function n(){var a,r,o;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=u.urls.BASE_URL+u.urls.GENRES_PATH_URL,n.prev=1,n.next=4,w.get(a,e(m)(t,k));case 4:return r=n.sent,o=r.data.genres,n.abrupt("return",o);case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()}},{key:"fetchTrendingMovies",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(o)(e(s).mark((function n(){var a,r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.urls.BASE_URL+u.urls.TRENDINGS_PATH_URL,r={params:{api_key:u.API_KEY,page:t}},e.prev=1,e.next=4,w.get(a,r);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),n,null,[[1,8]])})))()}},{key:"fetchMoviesByName",value:function(){var t=this;return e(o)(e(s).mark((function n(){var a,r;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=u.urls.BASE_URL+u.urls.SEARCH_PATH_URL,n.prev=1,n.next=4,w.get(a,e(m)(t,x));case 4:return r=n.sent,n.abrupt("return",r);case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},{key:"getMoviesByName",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this;return e(o)(e(s).mark((function r(){var o,c;return e(s).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e(m)(a,x).params.query=t,e(m)(a,x).params.page=n,o=u.urls.BASE_URL+u.urls.SEARCH_PATH_URL,r.next=5,w.get(o,e(m)(a,x));case 5:return c=r.sent,r.abrupt("return",c.data);case 7:case"end":return r.stop()}}),r)})))()}},{key:"fetchMoviesByID",value:function(t){var n=this;return e(o)(e(s).mark((function a(){var r,o;return e(s).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=u.urls.BASE_URL+u.urls.GET_MOVIE_DETAILS_PATH_URL+t,a.prev=1,a.next=4,w.get(r,e(m)(n,S));case 4:return o=a.sent,a.abrupt("return",o.data);case 8:a.prev=8,a.t0=a.catch(1),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()}},{key:"catch",value:function(e){console.error(e)}}]),t}();function E(e,t){for(var n=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}').genres,a=[],r=0;r<t&&r<e.length;r+=1){var o=!0,s=!1,c=void 0;try{for(var i,d=n[Symbol.iterator]();!(o=(i=d.next()).done);o=!0)genre=i.value,e[r]===genre.id&&a.push(genre.name)}catch(e){s=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(s)throw c}}}return e.length>t&&a.splice(t-1,1,"Other"),a.join(", ")}var T,M,A={};function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}T="undefined"!=typeof self?self:void 0,M=function(e){e.addBackToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backgroundColor,n=void 0===t?"#000":t,a=e.cornerOffset,r=void 0===a?20:a,o=e.diameter,s=void 0===o?56:o,c=e.ease,i=void 0===c?P:c,d=e.id,l=void 0===d?"back-to-top":d,u=e.innerHTML,p=void 0===u?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':u,m=e.onClickScrollTo,v=void 0===m?0:m,f=e.scrollContainer,_=void 0===f?document.body:f,h=e.scrollDuration,y=void 0===h?100:h,b=e.showWhenScrollTopIs,g=void 0===b?1:b,w=e.size,x=void 0===w?s:w,k=e.textColor,S=void 0===k?"#fff":k,L=e.zIndex,E=void 0===L?1:L,T=_===document.body,M=T&&document.documentElement;C();var A=U(),q=!0,j=T?window:_;function B(){R()>=g?N():O()}function N(){q&&(A.className="",q=!1)}function O(){q||(A.className="hidden",q=!0)}function U(){var e=document.createElement("div");return e.id=l,e.className="hidden",e.innerHTML=p,e.addEventListener("click",(function(e){e.preventDefault(),H()})),document.body.appendChild(e),e}function C(){var e=Math.round(.43*x),t=Math.round(.29*x),a="#"+l+"{background:"+n+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+r+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+S+";cursor:pointer;display:block;height:"+x+"px;opacity:1;outline:0;position:fixed;right:"+r+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+x+"px;z-index:"+E+"}#"+l+" svg{display:block;fill:currentColor;height:"+e+"px;margin:"+t+"px auto 0;width:"+e+"px}#"+l+".hidden{bottom:-"+x+"px;opacity:0}",o=document.createElement("style");o.appendChild(document.createTextNode(a)),document.head.insertAdjacentElement("afterbegin",o)}function H(){var e="function"==typeof v?v():v,t=window,n=t.performance,a=t.requestAnimationFrame;if(y<=0||void 0===n||void 0===a)return I(e);var r=n.now(),o=R(),s=o-e;a((function e(t){var n=Math.min((t-r)/y,1);I(o-Math.round(i(n)*s)),n<1&&a(e)}))}function R(){return _.scrollTop||M&&document.documentElement.scrollTop||0}function I(e){_.scrollTop=e,M&&(document.documentElement.scrollTop=e)}function P(e){return.5*(1-Math.cos(Math.PI*e))}j.addEventListener("scroll",B),B()}},"function"==typeof define&&define.amd?define(["exports"],M):"object"===q(A)&&"string"!=typeof A.nodeName?M(A):M(T.commonJsStrict={});var j=new L;function B(){return(B=e(o)(e(s).mark((function t(n){var a,r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=n.currentTarget.elements.searchQuery.value.trim().toLowerCase()){e.next=6;break}return d.classList.add("visually-hidden"),l.classList.remove("visually-hidden"),e.abrupt("return");case 6:return e.next=8,j.getMoviesByName(a);case 8:0===(r=e.sent).total_results?(l.classList.add("visually-hidden"),d.classList.remove("visually-hidden")):(d.classList.add("visually-hidden"),l.classList.add("visually-hidden"),O(),o=N(r),c.insertAdjacentHTML("beforeend",o));case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function N(e){return e.results.map((function(e){var t=e.poster_path,n=e.original_title,a=e.genre_ids,r=e.release_date,o=e.id,s=r.substring(0,4),c=E(a,3),i="".concat(u.urls.BASE_IMAGE_URL).concat(t);return null===t&&(i="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),'<li class="card__item">\n  <div class="card__img-wrap">\n    <img\n      src="'.concat(i,'"\n      alt="').concat(n,'"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap">\n    <h2 class="card__name">').concat(n,'</h2>\n    <div class="card__info">\n      <p class="visually-hidden">').concat(o,'</p>\n      <p class="card__genres">').concat(c,'</p>\n      <p class="card__year">').concat(s,"</p>\n    </div>\n  </div>\n</li>")})).join("")}function O(){c.innerHTML=""}i.addEventListener("submit",(function(e){return B.apply(this,arguments)})),(0,A.addBackToTop)({diameter:45,backgroundColor:"transparent",innerHtml:'<symbol id="icon-circle-up" viewBox="0 0 32 32"><path d="M0 16c0 8.837 7.163 16 16 16s16-7.163 16-16-7.163-16-16-16-16 7.163-16 16zM29 16c0 7.18-5.82 13-13 13s-13-5.82-13-13 5.82-13 13-13 13 5.82 13 13z"></path><path d="M22.086 20.914l2.829-2.829-8.914-8.914-8.914 8.914 2.828 2.828 6.086-6.086z"></path></symbol>',textColor:"#e5882c"});o=r("bpxeT"),s=r("2TvXO"),u=r("iqi4A");function U(e){return e.map((function(e){e.genre_ids;var t=e.title,n=e.poster_path;e.release_date;return'<li class="card__item">\n  <div class="card__img-wrap">\n    <img\n      src="'.concat(u.urls.BASE_IMAGE_URL).concat(n,'"\n      alt="').concat(t,'"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap">\n    <h2 class="card__name">').concat(t,'</h2>\n    <div class="card__info">\n      <p class="card__genres">Drama, Action<span class="card__year"></span></p>\n      <p class="card__year">2022</p>\n    </div>\n  </div>\n</li>')})).join("")}var C=new L;function H(){return(H=e(o)(e(s).mark((function t(){var n,a,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.fetchTrendingMovies();case 2:n=e.sent,a=n.data.results,localStorage.setItem("trendingFilms",JSON.stringify(a)),r=U(a),c.insertAdjacentHTML("beforeend",r);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return H.apply(this,arguments)})),r("ewLqX"),r("4pmU7");var R={body:document.body,openBtn:document.querySelector("button[data-modal-open]"),closeBtn:document.querySelector("button[data-modal-close]"),backdrop:document.querySelector("div[data-modal]")};R.openBtn.addEventListener("click",(function(){R.backdrop.classList.remove("is-hidden")})),R.closeBtn.addEventListener("click",(function(){R.backdrop.classList.add("is-hidden")}));var I,P={body:document.body,openBtn:document.querySelector("button[data-modal-open]"),closeBtn:document.querySelector("button[data-modal-close]"),backdrop:document.querySelector("div[data-modal]"),modal:document.querySelector("div.js-movie-card"),containerForInfo:document.querySelector("div.modal__container")},z=r("69Wut"),D="https://image.tmdb.org/t/p/",F="original",W="w342",G="w780",Y=r("WMajR").compile('<div class="modal__content">\n  <div class="img-thumb">\n  {{#if poster_path}}\n    <picture class="main-modal-img">\n      <source\n        srcset="'.concat(D).concat(F,'{{poster_path}}"\n        media="(min-width: 1024px)"\n      />\n      <source\n        srcset="\n          ').concat(D).concat(G,"{{poster_path}}  1x,\n          ").concat(D).concat(F,'{{poster_path}} 2x\n        "\n        media="(min-width: 768px)"\n      />\n      <source\n        srcset="\n          ').concat(D).concat(W,"{{poster_path}} 1x,\n          ").concat(D).concat(G,'{{poster_path}} 2x\n        "\n        media="(min-width: 320px)"\n      />\n\n      <img\n        src="').concat(D).concat(W,'{{poster_path}}"\n        alt="{{title}}"\n        class="main-modal-img"\n      />\n    </picture>\n    {{else}}\n      <img\n      src=\'https://cdn.pixabay.com/photo/2014/03/25/16/27/movie-297135_960_720.png\'\n          alt="{{title}}"\n          class="main-modal-img"\n        />\n    {{/if}}\n  </div>\n  <div class="modal__info-container">\n    <h2 class="modal__title">{{title}}</h2>\n    <table class="modal__stats">\n      <tr class="stats__row">\n        <td class="stats__name">Vote</td>\n        <td class="stats__value">\n          <span class="accent-num">{{vote_average}}</span> /\n          <span class="grey-num">{{vote_count}}</span>\n        </td>\n      </tr>\n      <tr class="stats__row">\n        <td class="stats__name">Popularity</td>\n        <td class="stats__value">{{popularity}}</td>\n      </tr>\n      <tr class="stats__row">\n      {{#if original_title}}\n        <td class="stats__name">Original Title</td>\n        <td class="stats__value">{{original_title}}</td>\n        {{else}}\n        <td class="stats__name">Title</td>\n        <td class="stats__value">{{title}}</td>\n        {{/if}}\n      </tr>\n      <tr class="stats__row">\n      {{#if genre_ids}}\n        <td class="stats__name">Genre</td>\n        <td class="stats__value">{{genre_ids}}</td>\n      {{/if}}\n      </tr>\n    </table>\n\n    <section class="modal__about">\n      <h3 class="about__title">About</h3>\n      <p class="about__text">{{overview}}</p>\n    </section>\n    <div class="modal__buttons">\n      <button\n        type="button"\n        class="modal__btn modal__btn--orange"\n        data-modal-watched\n      >\n        add to watched\n      </button>\n      <button\n        type="button"\n        class="modal__btn modal__btn--light"\n        data-modal-queue\n      >\n        add to queue\n      </button>\n    </div>\n  </div>\n</div>'));I=Y(z.films[9]),P.containerForInfo.innerHTML=I;var K=r("5N6jj"),J=r("4pmU7"),X="queue";function V(e){var t=J.localStore.load(X),n=t.find((function(t){return t.id===e.id}));if(n){var a=t.indexOf(n);t.splice(a,1),J.localStore.save(X,t)}else t.push(e),J.localStore.save(X,t)}J=r("4pmU7"),K=r("5N6jj");r("69Wut");J=r("4pmU7"),new L;function Z(){P.backdrop.classList.add("is-hidden"),P.modal.classList.remove("is-open"),P.body.classList.remove("modal-shown"),P.body.removeEventListener("click",Q),window.removeEventListener("keydown",$)}function Q(e){"backdrop"===e.target.className&&Z()}function $(e){"Escape"===e.code&&Z()}P.openBtn.addEventListener("click",(function(e){e.preventDefault(),P.backdrop.classList.remove("is-hidden"),P.modal.classList.add("is-open"),P.body.classList.add("modal-shown"),P.body.addEventListener("click",Q),window.addEventListener("keydown",$),t=document.querySelector("button[data-modal-queue]"),n=document.querySelector("button[data-modal-watched]"),t.addEventListener("click",V),n.addEventListener("click",K.onWatchedClick),function(){var e=J.localStore.load(K.WATCHED_KEY);e=e||[],J.localStore.save(K.WATCHED_KEY,e);var t=J.localStore.load(X);t=t||[],J.localStore.save(X,t)}();var t,n})),P.closeBtn.addEventListener("click",Z);o=r("bpxeT"),s=r("2TvXO"),J=r("4pmU7");var ee=new L;function te(){return(te=e(o)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.fetchTrendingMovies();case 2:n=e.sent,J.localStore.save("trendingFilms",n.data.results);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){te.apply(this,arguments)}(),r("5N6jj")}();
//# sourceMappingURL=index.4aee2c1f.js.map
