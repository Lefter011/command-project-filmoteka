!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire62cb;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequire62cb=r),r.register("1UHsN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("ffZzF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("5k7tO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),r("2p6Fd");var o=r("bpxeT"),s=r("2TvXO"),c=(document.querySelector(".button--up"),document.querySelector(".js-gallery")),i=(document.querySelector(".pag"),document.querySelector(".search-form")),u=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".header-buttons"),document.querySelectorAll(".header-button"),o=r("bpxeT"),r("8MBJY")),l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){var n=d.default(e,t,"get");return p.default(e,n)};var d=v(r("1UHsN")),p=v(r("ffZzF"));function v(e){return e&&e.__esModule?e:{default:e}}var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=function(e,t,n){f.default(e,t),t.set(e,n)};var m,f=(m=r("5k7tO"))&&m.__esModule?m:{default:m};var h=r("a2hTj"),y=(s=r("2TvXO"),r("iqi4A")),g=r("dIxxU").default,b=new WeakMap,w=new WeakMap,k=new WeakMap,x=function(){"use strict";function t(){e(u)(this,t),e(_)(this,b,{writable:!0,value:{params:{api_key:y.API_KEY,query:"",page:1,include_adult:!1}}}),e(_)(this,w,{writable:!0,value:{params:{api_key:y.API_KEY}}}),e(_)(this,k,{writable:!0,value:{params:{api_key:y.API_KEY}}})}return e(h)(t,[{key:"fetchGenres",value:function(){var t=this;return e(o)(e(s).mark((function n(){var a,r,o;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=y.urls.BASE_URL+y.urls.GENRES_PATH_URL,n.prev=1,n.next=4,g.get(a,e(l)(t,w));case 4:return r=n.sent,o=r.data.genres,n.abrupt("return",o);case 9:n.prev=9,n.t0=n.catch(1),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()}},{key:"fetchTrendingMovies",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(o)(e(s).mark((function n(){var a,r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.urls.BASE_URL+y.urls.TRENDINGS_PATH_URL,r={params:{api_key:y.API_KEY,page:t}},e.prev=1,e.next=4,g.get(a,r);case 4:return o=e.sent,e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),n,null,[[1,8]])})))()}},{key:"fetchMoviesByName",value:function(){var t=this;return e(o)(e(s).mark((function n(){var a,r;return e(s).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=y.urls.BASE_URL+y.urls.SEARCH_PATH_URL,n.prev=1,n.next=4,g.get(a,e(l)(t,b));case 4:return r=n.sent,n.abrupt("return",r);case 8:n.prev=8,n.t0=n.catch(1),console.error(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},{key:"getMoviesByName",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=this;return e(o)(e(s).mark((function r(){var o,c;return e(s).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e(l)(a,b).params.query=t,e(l)(a,b).params.page=n,o=y.urls.BASE_URL+y.urls.SEARCH_PATH_URL,r.next=5,g.get(o,e(l)(a,b));case 5:return c=r.sent,r.abrupt("return",c.data);case 7:case"end":return r.stop()}}),r)})))()}},{key:"fetchMoviesByID",value:function(t){var n=this;return e(o)(e(s).mark((function a(){var r,o;return e(s).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=y.urls.BASE_URL+y.urls.GET_MOVIE_DETAILS_PATH_URL+t,a.prev=1,a.next=4,g.get(r,e(l)(n,k));case 4:return o=a.sent,a.abrupt("return",o.data);case 8:a.prev=8,a.t0=a.catch(1),console.error(a.t0);case 11:case"end":return a.stop()}}),a,null,[[1,8]])})))()}},{key:"catch",value:function(e){console.error(e)}}]),t}(),S=new x;function L(){return(L=e(o)(e(s).mark((function t(n){var a,r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=n.currentTarget.elements.searchQuery.value.trim().toLowerCase()){e.next=5;break}return alert("Enter a search query!"),e.abrupt("return");case 5:return e.next=7,S.getMoviesByName(a);case 7:0===(r=e.sent).total_results&&alert("Search result is unsuccessful. Enter the correct movie name and try again!"),q(),o=E(r),c.insertAdjacentHTML("beforeend",o);case 12:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function E(e){return e.results.map((function(e){var t=e.poster_path,n=e.original_title,a=e.genre_ids,r=e.release_date.substring(0,4),o="".concat("https://image.tmdb.org/t/p/original").concat(t);return null===t&&(o="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),'<li class="hero__movie-item">\n<div class="gallery__section">\n    <ul class="gallery__card">\n        <li class="gallery-list list">\n            <div class="gallary__titular">\n                <img src="'.concat(o,'" alt="').concat(n,'" class="gallery__img">\n        </li>\n        </div>\n        <div class="gallary__info">\n            <p class="card__name">').concat(n,'</p>\n            <p class="card__info">').concat(a," , ").concat(r,"</p>\n        </div>\n    </ul>\n</div>\n</li>")})).join("")}function q(){c.innerHTML=""}i.addEventListener("submit",(function(e){return L.apply(this,arguments)}));o=r("bpxeT"),s=r("2TvXO"),y=r("iqi4A");function T(e){return e.map((function(e){e.genre_ids;var t=e.title,n=e.poster_path;e.release_date;return'<li class="card__item">\n  <div class="card__img-wrap">\n    <img\n      src="'.concat(y.urls.BASE_IMAGE_URL).concat(n,'"\n      alt="').concat(t,'"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap">\n    <h2 class="card__name">').concat(t,'</h2>\n    <div class="card__info">\n      <p class="card__genres">Drama, Action<span class="card__year"></span></p>\n      <p class="card__year">2022</p>\n    </div>\n  </div>\n</li>')})).join("")}var A=new x;function M(){return(M=e(o)(e(s).mark((function t(){var n,a,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.fetchTrendingMovies();case 2:n=e.sent,a=n.data.results,localStorage.setItem("trendingFilms",JSON.stringify(a)),r=T(a),c.insertAdjacentHTML("beforeend",r);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return M.apply(this,arguments)})),r("ewLqX");u=r("8MBJY"),h=r("a2hTj");var B=new(function(){"use strict";function t(){e(u)(this,t)}return e(h)(t,[{key:"load",value:function(e){try{var t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}}},{key:"save",value:function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){console.error("Set state error: ",e.message)}}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(e){console.error("Get state error: ",e.message)}}}]),t}()),j={body:document.body,openBtn:document.querySelector("button[data-modal-open]"),closeBtn:document.querySelector("button[data-modal-close]"),backdrop:document.querySelector("div[data-modal]")};j.openBtn.addEventListener("click",(function(){j.backdrop.classList.remove("is-hidden")})),j.closeBtn.addEventListener("click",(function(){j.backdrop.classList.add("is-hidden")}));var O={body:document.body,openBtn:document.querySelector("button[data-modal-open]"),closeBtn:document.querySelector("button[data-modal-close]"),backdrop:document.querySelector("div[data-modal]"),modal:document.querySelector("div.js-movie-card"),containerForInfo:document.querySelector("div.modal__container")},I="https://image.tmdb.org/t/p/",P="original",N="w342",R="w780",U=null;!function(e){e.id;var t,n=e.title,a=e.original_title,r=e.overview,o=e.poster_path,s=(e.genre_ids,e.popularity),c=e.vote_average,i=e.vote_count;U='<div class="modal__content">\n  <div class="img-thumb">\n    <picture class="main-modal-img">\n      <source\n        srcset="'.concat(I).concat(P).concat(o,'"\n        media="(min-width: 1024px)"\n      />\n      <source\n        srcset="\n          ').concat(I).concat(R).concat(o,"  1x,\n          ").concat(I).concat(P).concat(o,' 2x\n        "\n        media="(min-width: 768px)"\n      />\n      <source\n        srcset="\n          ').concat(I).concat(N).concat(o," 1x,\n          ").concat(I).concat(R).concat(o,' 2x\n        "\n        media="(min-width: 320px)"\n      />\n\n      <img\n        src="').concat(I).concat(N).concat(o,'"\n        alt="').concat(n,'"\n        class="main-modal-img"\n      />\n    </picture>\n  </div>\n  <div class="modal__info-container">\n    <h2 class="modal__title">').concat(n,'</h2>\n    <table class="modal__stats">\n      <tr class="stats__row">\n        <td class="stats__name">Vote</td>\n        <td class="stats__value">\n          <span class="accent-num">').concat(c,'</span> /\n          <span class="grey-num">').concat(i,'</span>\n        </td>\n      </tr>\n      <tr class="stats__row">\n        <td class="stats__name">Popularity</td>\n        <td class="stats__value">').concat(s,'</td>\n      </tr>\n      <tr class="stats__row">\n        <td class="stats__name">Original Title</td>\n        <td class="stats__value">').concat(a,'</td>\n      </tr>\n      <tr class="stats__row">\n        <td class="stats__name">Genre</td>\n        <td class="stats__value">????</td>\n      </tr>\n    </table>\n\n    <section class="modal__about">\n      <h3 class="about__title">About</h3>\n      <p class="about__text">').concat(r,'</p>\n    </section>\n    <div class="modal__buttons">\n      <button\n        type="button"\n        class="modal__btn modal__btn--orange"\n        data-modal-watched\n      >\n        add to watched\n      </button>\n      <button\n        type="button"\n        class="modal__btn modal__btn--light"\n        data-modal-queue\n      >\n        add to queue\n      </button>\n    </div>\n  </div>\n</div>'),t=U,O.containerForInfo.innerHTML=t}({adult:!1,backdrop_path:"/bUjPcNS8GweBh5Nxp8oq9Dy712Z.jpg",id:913290,title:"Barbarian",original_language:"en",original_title:"Barbarian",overview:"In town for a job interview, a young woman arrives at her Airbnb late at night only to find that it has been mistakenly double-booked and a strange man is already staying there. Against her better judgement, she decides to stay the night anyway, but soon discovers that there is much more to be afraid of in the house than the other guest.",poster_path:"/idT5mnqPcJgSkvpDX7pJffBzdVH.jpg",media_type:"movie",genre_ids:[27,9648,53],popularity:376.929,release_date:"2022-09-08",video:!1,vote_average:7.191,vote_count:207});var H="watched";function D(e){var t=B.load(H),n=t.find((function(t){return t.id===e.id}));if(n){var a=t.indexOf(n);t.splice(a,1),B.save(H,t)}else t.push(e),B.save(H,t)}var G="queue";function F(e){var t=B.load(G),n=t.find((function(t){return t.id===e.id}));if(n){var a=t.indexOf(n);t.splice(a,1),B.save(G,t)}else t.push(e),B.save(G,t)}function J(){O.backdrop.classList.add("is-hidden"),O.modal.classList.remove("is-open"),O.body.classList.remove("modal-shown"),O.body.removeEventListener("click",C),window.removeEventListener("keydown",X)}function C(e){"backdrop"===e.target.className&&J()}function X(e){"Escape"===e.code&&J()}O.openBtn.addEventListener("click",(function(e){O.backdrop.classList.remove("is-hidden"),O.modal.classList.add("is-open"),O.body.classList.add("modal-shown"),O.body.addEventListener("click",C),window.addEventListener("keydown",X),t=document.querySelector("button[data-modal-queue]"),n=document.querySelector("button[data-modal-watched]"),t.addEventListener("click",F),n.addEventListener("click",D),function(){var e=B.load(H);e=e||[],B.save(H,e);var t=B.load(G);t=t||[],B.save(G,t)}();var t,n})),O.closeBtn.addEventListener("click",J);o=r("bpxeT"),s=r("2TvXO");var Y=new x;function z(){return(z=e(o)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.fetchTrendingMovies();case 2:n=e.sent,B.save("trendingFilms",n.data.results);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){z.apply(this,arguments)}()}();
//# sourceMappingURL=index.a9f891be.js.map
