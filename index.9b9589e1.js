var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},d=e.parcelRequire62cb;null==d&&((d=function(e){if(e in t)return t[e].exports;if(e in n){var d=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,d.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire62cb=d);document.querySelector(".button--up");const r=document.querySelector(".js-gallery"),a=(document.querySelector(".pag"),document.querySelector(".search-form")),o=document.querySelector("input.js-search"),c=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),i=document.querySelector(".alert-b");document.querySelector(".header-buttons"),document.querySelectorAll(".header-button");var s=d("hXrWV"),u=d("4kseb"),l=d("aICLh"),m=d("8JeJA"),y=d("4eRSF");const f=new(0,u.default);function h(){r.innerHTML=""}a.addEventListener("submit",(async function(e,t){e.preventDefault();const n=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!n)return c.classList.add("visually-hidden"),void i.classList.remove("visually-hidden");f.query=n;const d=await f.getMoviesByName(n,t);if(localStorage.setItem("query",JSON.stringify(d)),0===d.total_results)i.classList.add("visually-hidden"),c.classList.remove("visually-hidden");else{c.classList.add("visually-hidden"),i.classList.add("visually-hidden"),h();const e=function(e){const{results:t}=e;return t.map((({poster_path:e,original_title:t,genre_ids:n,release_date:d,id:r})=>{const a=new Date(d),o=(0,l.getGenresName)(n),c=(0,m.sliceGenres)(o);let i=`${s.urls.BASE_IMAGE_URL}${e}`;return null===e&&(i="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),`<li class="card__item" data-id=${r}>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="${i}"\n      alt="${t}"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">${t}</h2>\n    <div class="card__info">\n      <p class="card__genres">${c.join(", ")}</p>\n      <p class="card__year">${a.getFullYear()}</p>\n    </div>\n  </div>\n</li>`})).join("")}(d);r.insertAdjacentHTML("beforeend",e)}})),(0,y.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});u=d("4kseb");var v=d("dX4f0");u=d("4kseb"),v=d("dX4f0");const g=new(0,u.default),x=document.querySelector(".button2"),b=document.querySelector(".button1");x.addEventListener("click",(async function(){k+=1,w(),E()})),b.addEventListener("click",(async function(){if(1==k)return console.log("error");k-=1,w(),E()}));const p=document.querySelector('[data-index="1"]'),S=document.querySelector('[data-index="2"]'),q=document.querySelector('[data-index="3"]'),L=document.querySelector('[data-index="4"]'),C=document.querySelector('[data-index="5"]'),_=document.querySelector('[data-index="6"]');p.addEventListener("click",(async function(){return k=Number(document.querySelector('[data-index="1"]').textContent),E(),w()})),S.addEventListener("click",(async function(){return k=Number(document.querySelector('[data-index="2"]').textContent),E(),w()})),q.addEventListener("click",(async function(){return k=Number(document.querySelector('[data-index="3"]').textContent),E(),w()})),L.addEventListener("click",(async function(){return k=Number(document.querySelector('[data-index="4"]').textContent),E(),w()})),C.addEventListener("click",(async function(){return k=1,E(),q.hidden=!1,L.hidden=!1,b.hidden=!0,x.hidden=!1,_.hidden=!1,q.textContent=Number(k)+1,L.textContent=Number(k)+2,w()})),_.addEventListener("click",(async function(){return k=_.textContent,E(),b.hidden=!1,C.hidden=!1,w()})),p.hidden=!0,S.hidden=!0,C.hidden=!0,q.textContent=2,L.textContent=3,C.textContent=1,_.textContent=1e3;let k=1;async function w(){try{if(""!==o.value){const e=(await g.getMoviesByName(o.value,k)).results,t=(0,v.createMarkup)(e);h(),r.innerHTML=t}else{const e=(await g.fetchTrendingMovies(k)).data.results,t=(0,v.createMarkup)(e);h(),r.innerHTML=t}document.getElementById("currentPage").textContent=k}catch(e){console.error("Error with search fetch"+e)}}async function E(){q.textContent=Number(k)+1,L.textContent=Number(k)+2,k>=3&&k<=997&&(b.hidden=!1,p.hidden=!1,S.hidden=!1,C.hidden=!1,S.textContent=k-1,p.textContent=k-2,q.hidden=!1,L.hidden=!1,x.hidden=!1,_.hidden=!1),k<3&&(p.hidden=!0,S.hidden=!0,C.hidden=!0),k>=998&&k<=1e3&&(p.hidden=!1,S.hidden=!1,S.textContent=k-1,p.textContent=k-2),k>=998&&(L.hidden=!0),k>=1e3&&(q.hidden=!0,_.hidden=!0,x.hidden=!0)}const M=new(0,u.default);document.addEventListener("DOMContentLoaded",(async function(){const e=(await M.fetchTrendingMovies()).data.results;localStorage.setItem("trendingFilms",JSON.stringify(e));const t=(0,v.createMarkup)(e);r.insertAdjacentHTML("beforeend",t)})),d("HzXMd"),d("4S0r6"),d("dBfix"),d("46fOB"),d("a1Vwq"),d("gBTz3"),d("lWsHk");u=d("4kseb");d("46fOB");new(0,u.default);d("bbkJ9"),d("dvlOj"),d("kCbOd");u=d("4kseb"),v=d("dX4f0");new(0,u.default);
//# sourceMappingURL=index.9b9589e1.js.map
