{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_extract_field_descriptor.js","node_modules/@swc/helpers/lib/_class_apply_descriptor_get.js","node_modules/@swc/helpers/lib/_check_private_redeclaration.js","src/index.js","src/js/utils/refs.js","node_modules/@swc/helpers/lib/_class_private_field_get.js","node_modules/@swc/helpers/lib/_class_private_field_init.js","src/js/ApiService.js","src/js/utils/getGenres.js","src/js/header-search.js","src/js/utils/createMarkup.js","src/js/hero.js","src/js/modal-card-film/modal.js","src/js/modal-card-film/modal-refs.js","src/js/modal-card-film/render-film.js","src/js/modal-card-film/add-to-queue.js","src/js/modal-card-film/check-saved-films.js","src/js/modal-card-film/modal-open-close.js","src/js/modal-card-film/save-films-to-storage.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classExtractFieldDescriptor;\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classApplyDescriptorGet;\nfunction _classApplyDescriptorGet(receiver, descriptor) {\n    if (descriptor.get) {\n        return descriptor.get.call(receiver);\n    }\n    return descriptor.value;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _checkPrivateRedeclaration;\nfunction _checkPrivateRedeclaration(obj, privateCollection) {\n    if (privateCollection.has(obj)) {\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n    }\n}\n","import './js/utils/handlebars-helpers';\n\nimport './js/footer_modal';\n// import { localStorageFilms } from\n\nimport './js/header-search';\nimport './js/hero';\nimport './js/utils/set-genres-to-localstorage';\n// import './js/pagination';\n\nimport './js/utils/loc-storage';\n\nimport './js/modal-card-film/modal';\nimport './js/modal-card-film/modal-refs';\nimport './js/modal-card-film/render-film';\nimport './js/modal-card-film/modal-open-close';\nimport './js/modal-card-film/save-films-to-storage';\nimport './js/modal-card-film/add-to-watched';\nimport './js/modal-card-film/add-to-queue';\nimport './js/modal-card-film/check-saved-films';\n","//refs\n//Button-up\nconst buttonUpRef = document.querySelector('.button--up');\n\n//Gallery main container\nconst containerGallery = document.querySelector('.js-gallery');\n\n//Pagination container\nconst containerPag = document.querySelector('.pag');\n\n//Searching form\nconst searchFormRef = document.querySelector('.search-form');\n\n// movie card in Modal\nconst movieCardModalRef = document.querySelector('.js-movie-card');\n\n// modal team content\nconst accordionRef = document.querySelector('#accordion');\n\n// spinner\nconst spinnerRef = document.querySelector('.js-spinner');\n\n// Header\nconst headerRef = document.querySelector('#header');\n\nconst notifyARef = document.querySelector('.alert-a');\nconst notifyBRef = document.querySelector('.alert-b');\n\n// Library\nconst headerButtonsContainerRef = document.querySelector('.header-buttons');\n\nconst headerButtonsRef = document.querySelectorAll('.header-button');\n\nexport {\n  buttonUpRef,\n  containerGallery,\n  containerPag,\n  searchFormRef,\n  movieCardModalRef,\n  accordionRef,\n  spinnerRef,\n  headerRef,\n  headerButtonsContainerRef,\n  headerButtonsRef,\n  notifyARef,\n  notifyBRef,\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldGet;\nvar _classExtractFieldDescriptor = _interopRequireDefault(require(\"./_class_extract_field_descriptor\"));\nvar _classApplyDescriptorGet = _interopRequireDefault(require(\"./_class_apply_descriptor_get\"));\nfunction _classPrivateFieldGet(receiver, privateMap) {\n    var descriptor = (0, _classExtractFieldDescriptor).default(receiver, privateMap, \"get\");\n    return (0, _classApplyDescriptorGet).default(receiver, descriptor);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateFieldInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateFieldInit(obj, privateMap, value) {\n    (0, _checkPrivateRedeclaration).default(obj, privateMap);\n    privateMap.set(obj, value);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","const axios = require('axios').default;\n\nimport { urls, API_KEY } from './utils/config';\n\nexport default class ApiService {\n  #moviesByNameSearchParams = {\n    params: {\n      api_key: API_KEY,\n      query: '',\n      page: 1,\n      include_adult: false,\n    },\n  };\n\n  #genresSearchParams = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  #getMovieDetailsSearchParams = {\n    params: {\n      api_key: API_KEY,\n    },\n  };\n\n  async fetchGenres() {\n    const url = urls.BASE_URL + urls.GENRES_PATH_URL;\n    try {\n      const response = await axios.get(url, this.#genresSearchParams),\n        genres = response.data.genres;\n      return genres;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async fetchTrendingMovies(page = 1) {\n    const url = urls.BASE_URL + urls.TRENDINGS_PATH_URL,\n      popularMoviesSearchParams = { params: { api_key: API_KEY, page } };\n    try {\n      const response = await axios.get(url, popularMoviesSearchParams);\n      return response;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async fetchMoviesByName() {\n    const url = urls.BASE_URL + urls.SEARCH_PATH_URL;\n    try {\n      const response = await axios.get(url, this.#moviesByNameSearchParams);\n      return response;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  async getMoviesByName(query, page = 1) {\n    this.#moviesByNameSearchParams.params.query = query;\n    this.#moviesByNameSearchParams.params.page = page;\n    const url = urls.BASE_URL + urls.SEARCH_PATH_URL;\n    const response = await axios.get(url, this.#moviesByNameSearchParams);\n    return response.data;\n  }\n\n  async fetchMoviesByID(id) {\n    const url = urls.BASE_URL + urls.GET_MOVIE_DETAILS_PATH_URL + id;\n    try {\n      const response = await axios.get(url, this.#getMovieDetailsSearchParams);\n      return response.data;\n    } catch (error) {\n      console.error(error);\n    }\n  }\n\n  catch(error) {\n    console.error(error);\n  }\n}\n","export function getGenres(genre_ids, maxAmount) {\n  const json =\n    '{\"genres\":[{\"id\":28,\"name\":\"Action\"},{\"id\":12,\"name\":\"Adventure\"},{\"id\":16,\"name\":\"Animation\"},{\"id\":35,\"name\":\"Comedy\"},{\"id\":80,\"name\":\"Crime\"},{\"id\":99,\"name\":\"Documentary\"},{\"id\":18,\"name\":\"Drama\"},{\"id\":10751,\"name\":\"Family\"},{\"id\":14,\"name\":\"Fantasy\"},{\"id\":36,\"name\":\"History\"},{\"id\":27,\"name\":\"Horror\"},{\"id\":10402,\"name\":\"Music\"},{\"id\":9648,\"name\":\"Mystery\"},{\"id\":10749,\"name\":\"Romance\"},{\"id\":878,\"name\":\"Science Fiction\"},{\"id\":10770,\"name\":\"TV Movie\"},{\"id\":53,\"name\":\"Thriller\"},{\"id\":10752,\"name\":\"War\"},{\"id\":37,\"name\":\"Western\"}]}';\n  const allGenres = JSON.parse(json).genres;\n  let genresArr = [];\n  for (let i = 0; i < maxAmount && i < genre_ids.length; i += 1) {\n    for (genre of allGenres) {\n      if (genre_ids[i] === genre.id) {\n        genresArr.push(genre.name);\n      }\n    }\n  }\n  if (genre_ids.length > maxAmount) {\n    genresArr.splice(maxAmount - 1, 1, 'Other');\n  }\n  return genresArr.join(' ');\n}\n","import {\n  containerGallery,\n  searchFormRef,\n  notifyARef,\n  notifyBRef,\n} from './utils/refs';\nimport { urls } from './utils/config';\nimport ApiService from './ApiService';\nimport { getGenres } from './utils/getGenres';\n\nconst api = new ApiService();\n\nsearchFormRef.addEventListener('submit', onSubmit);\n\nasync function onSubmit(event) {\n  event.preventDefault();\n  const searchQuery = event.currentTarget.elements.searchQuery.value\n    .trim()\n    .toLowerCase();\n  if (!searchQuery) {\n    notifyARef.classList.add('visually-hidden');\n    notifyBRef.classList.remove('visually-hidden');\n    return;\n  }\n  const data = await api.getMoviesByName(searchQuery);\n  if (data.total_results === 0) {\n    notifyBRef.classList.add('visually-hidden');\n    notifyARef.classList.remove('visually-hidden');\n  } else {\n    notifyARef.classList.add('visually-hidden');\n    notifyBRef.classList.add('visually-hidden');\n    clearMarkup();\n    const markup = createMarkup(data);\n    containerGallery.insertAdjacentHTML('beforeend', markup);\n  }\n}\n\nfunction createMarkup(data) {\n  const { results } = data;\n  return results\n    .map(({ poster_path, original_title, genre_ids, release_date, id }) => {\n      const releaseYear = release_date.substring(0, 4);\n      const genresList = getGenres(genre_ids, 3);\n      let posterLink = `${urls.BASE_IMAGE_URL}${poster_path}`;\n      if (poster_path === null) {\n        posterLink = 'https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg';\n      }\n      return `<li class=\"card__item\">\n  <div class=\"card__img-wrap\">\n    <img\n      src=\"${posterLink}\"\n      alt=\"${original_title}\"\n      class=\"card__img\"\n    />\n  </div>\n  <div class=\"card__text-wrap\">\n    <h2 class=\"card__name\">${original_title}</h2>\n    <div class=\"card__info\">\n      <p class=\"visually-hidden\">${id}</p>\n      <p class=\"card__genres\">${genresList}</p>\n      <p class=\"card__year\">${releaseYear}</p>\n    </div>\n  </div>\n</li>`;\n    })\n    .join('');\n}\n\nfunction clearMarkup() {\n  containerGallery.innerHTML = '';\n}\n","import { urls } from '../utils/config';\n\nexport function createMarkup(movies) {\n  return movies\n    .map(({ genre_ids, title, poster_path, release_date }) => {\n      return `<li class=\"card__item\">\n  <div class=\"card__img-wrap\">\n    <img\n      src=\"${urls.BASE_IMAGE_URL}${poster_path}\"\n      alt=\"${title}\"\n      class=\"card__img\"\n    />\n  </div>\n  <div class=\"card__text-wrap\">\n    <h2 class=\"card__name\">${title}</h2>\n    <div class=\"card__info\">\n      <p class=\"card__genres\">Drama, Action<span class=\"card__year\"></span></p>\n      <p class=\"card__year\">2022</p>\n    </div>\n  </div>\n</li>`;\n    })\n    .join('');\n}\n","import ApiService from './ApiService';\nimport { containerGallery } from './utils/refs';\nimport { createMarkup } from './utils/createMarkup';\n// import { urls } from './utils/config';\n\nconst apiMovie = new ApiService();\n\nasync function homePage() {\n  const res = await apiMovie.fetchTrendingMovies();\n  const movieObj = res.data.results;\n  localStorage.setItem('trendingFilms', JSON.stringify(movieObj));\n\n  const markup = createMarkup(movieObj);\n  containerGallery.insertAdjacentHTML('beforeend', markup);\n}\n\ndocument.addEventListener('DOMContentLoaded', homePage);\n","const refs = {\n  body: document.body,\n  openBtn: document.querySelector('button[data-modal-open]'),\n  closeBtn: document.querySelector('button[data-modal-close]'),\n  backdrop: document.querySelector('div[data-modal]'),\n};\n\nrefs.openBtn.addEventListener('click', onOpenBtnClick);\nfunction onOpenBtnClick() {\n  refs.backdrop.classList.remove('is-hidden');\n}\n\nrefs.closeBtn.addEventListener('click', onCloseBtnClick);\nfunction onCloseBtnClick() {\n  refs.backdrop.classList.add('is-hidden');\n}\n","export const refs = {\n  body: document.body,\n  openBtn: document.querySelector('button[data-modal-open]'),\n  closeBtn: document.querySelector('button[data-modal-close]'),\n  backdrop: document.querySelector('div[data-modal]'),\n  modal: document.querySelector('div.js-movie-card'),\n  containerForInfo: document.querySelector('div.modal__container'),\n};\n","import { refs } from './modal-refs';\nimport { films } from './random-films';\nconst Handlebars = require('handlebars');\n\nconst BASE_PICTURE_URL = 'https://image.tmdb.org/t/p/';\nconst desktopSize = 'original';\nconst mobileSize = 'w342';\nconst tabletSize = 'w780';\n\n\nconst markup = Handlebars.compile(`<div class=\"modal__content\">\n  <div class=\"img-thumb\">\n  {{#if poster_path}}\n    <picture class=\"main-modal-img\">\n      <source\n        srcset=\"${BASE_PICTURE_URL}${desktopSize}{{poster_path}}\"\n        media=\"(min-width: 1024px)\"\n      />\n      <source\n        srcset=\"\n          ${BASE_PICTURE_URL}${tabletSize}{{poster_path}}  1x,\n          ${BASE_PICTURE_URL}${desktopSize}{{poster_path}} 2x\n        \"\n        media=\"(min-width: 768px)\"\n      />\n      <source\n        srcset=\"\n          ${BASE_PICTURE_URL}${mobileSize}{{poster_path}} 1x,\n          ${BASE_PICTURE_URL}${tabletSize}{{poster_path}} 2x\n        \"\n        media=\"(min-width: 320px)\"\n      />\n\n      <img\n        src=\"${BASE_PICTURE_URL}${mobileSize}{{poster_path}}\"\n        alt=\"{{title}}\"\n        class=\"main-modal-img\"\n      />\n    </picture>\n    {{else}}\n      <img\n      src='https://cdn.pixabay.com/photo/2014/03/25/16/27/movie-297135_960_720.png'\n          alt=\"{{title}}\"\n          class=\"main-modal-img\"\n        />\n    {{/if}}\n  </div>\n  <div class=\"modal__info-container\">\n    <h2 class=\"modal__title\">{{title}}</h2>\n    <table class=\"modal__stats\">\n      <tr class=\"stats__row\">\n        <td class=\"stats__name\">Vote</td>\n        <td class=\"stats__value\">\n          <span class=\"accent-num\">{{vote_average}}</span> /\n          <span class=\"grey-num\">{{vote_count}}</span>\n        </td>\n      </tr>\n      <tr class=\"stats__row\">\n        <td class=\"stats__name\">Popularity</td>\n        <td class=\"stats__value\">{{popularity}}</td>\n      </tr>\n      <tr class=\"stats__row\">\n      {{#if original_title}}\n        <td class=\"stats__name\">Original Title</td>\n        <td class=\"stats__value\">{{original_title}}</td>\n        {{else}}\n        <td class=\"stats__name\">Title</td>\n        <td class=\"stats__value\">{{title}}</td>\n        {{/if}}\n      </tr>\n      <tr class=\"stats__row\">\n      {{#if genre_ids}}\n        <td class=\"stats__name\">Genre</td>\n        <td class=\"stats__value\">{{genre_ids}}</td>\n      {{/if}}\n      </tr>\n    </table>\n\n    <section class=\"modal__about\">\n      <h3 class=\"about__title\">About</h3>\n      <p class=\"about__text\">{{overview}}</p>\n    </section>\n    <div class=\"modal__buttons\">\n      <button\n        type=\"button\"\n        class=\"modal__btn modal__btn--orange\"\n        data-modal-watched\n      >\n        add to watched\n      </button>\n      <button\n        type=\"button\"\n        class=\"modal__btn modal__btn--light\"\n        data-modal-queue\n      >\n        add to queue\n      </button>\n    </div>\n  </div>\n</div>`);\n\nfunction addMarkupToCard(markup) {\n  refs.containerForInfo.innerHTML = markup;\n}\n\naddMarkupToCard(markup(films[9]));\n","import { localStore } from '../utils/loc-storage';\n\nexport const LINE_KEY = `queue`;\n\nexport function onQueueClick(currentMovie) {\n  const savedMovies = localStore.load(LINE_KEY);\n  const isSaved = savedMovies.find(film => film.id === currentMovie.id);\n  if (isSaved) {\n    const index = savedMovies.indexOf(isSaved);\n    savedMovies.splice(index, 1);\n    localStore.save(LINE_KEY, savedMovies);\n  } else {\n    savedMovies.push(currentMovie);\n    localStore.save(LINE_KEY, savedMovies);\n  }\n}\n","import ApiService from '../ApiService';\nimport { LINE_KEY } from './add-to-queue';\nimport { WATCHED_KEY } from './add-to-watched';\nimport { films } from './random-films';\nimport { localStore } from '../utils/loc-storage';\n\nconst api = new ApiService();\n\nexport function checkSavedFilms(film) {\n  const queueBtn = document.querySelector('button[data-modal-queue]');\n  const watchedBtn = document.querySelector('button[data-modal-watched]');\n\n  const filmId = film.id;\n  const savedMovies = localStore.load(LINE_KEY);\n  const isSaved = savedMovies.find(film => film.id === filmId);\n  if (isSaved) {\n    queueBtn.textContent = 'Remove from queue';\n    queueBtn.style.height = 'auto';\n    const btnHeight = queueBtn.style.height;\n    watchedBtn.style.height = btnHeight;\n  }\n}\n\nexport function checkWatchedFilms(film) {\n  const watchedBtn = document.querySelector('button[data-modal-watched]');\n  const queueBtn = document.querySelector('button[data-modal-queue]');\n  const filmId = film.id;\n  console.log('checkWatchedFilms   filmId', filmId);\n  const savedMovies = localStore.load(WATCHED_KEY);\n  const isSaved = savedMovies.find(film => film.id === filmId);\n  if (isSaved) {\n    watchedBtn.textContent = 'Remove from watched';\n    watchedBtn.style.height = 'auto';\n    const btnHeight = watchedBtn.style.height;\n    queueBtn.style.height = btnHeight;\n  }\n}\n\n","import { refs } from './modal-refs';\nimport { onWatchedClick, WATCHED_KEY } from './add-to-watched';\nimport { onQueueClick, LINE_KEY } from './add-to-queue';\nimport { localStore } from '../utils/loc-storage';\nimport {checkSavedFilms, checkWatchedFilms} from './check-saved-films';\n\nrefs.openBtn.addEventListener('click', onOpenBtnClick);\nrefs.closeBtn.addEventListener('click', onCloseBtnClick);\n\nfunction onOpenBtnClick(evt) {\n  evt.preventDefault();\n  refs.backdrop.classList.remove('is-hidden');\n  refs.modal.classList.add('is-open');\n  refs.body.classList.add('modal-shown');\n  refs.body.addEventListener('click', onBackdropClick);\n  window.addEventListener('keydown', onEscClick);\n  addBtnsListeners();\n  saveKeysToStorage();\n}\n\nfunction onCloseBtnClick() {\n  refs.backdrop.classList.add('is-hidden');\n  refs.modal.classList.remove('is-open');\n  refs.body.classList.remove('modal-shown');\n  refs.body.removeEventListener('click', onBackdropClick);\n  window.removeEventListener('keydown', onEscClick);\n}\n\nfunction onBackdropClick(evt) {\n  const target = evt.target.className;\n  if (target === 'backdrop') {\n    onCloseBtnClick();\n  }\n}\n\nfunction onEscClick(evt) {\n  if (evt.code === 'Escape') {\n    onCloseBtnClick();\n  }\n}\n\nfunction addBtnsListeners() {\n  const queueBtn = document.querySelector('button[data-modal-queue]');\n  const watchedBtn = document.querySelector('button[data-modal-watched]');\n  queueBtn.addEventListener('click', onQueueClick);\n  watchedBtn.addEventListener('click', onWatchedClick);\n}\n\nfunction saveKeysToStorage() {\n  let savedWatched = localStore.load(WATCHED_KEY);\n  savedWatched = savedWatched ? savedWatched : [];\n  localStore.save(WATCHED_KEY, savedWatched);\n\n  let savedLine = localStore.load(LINE_KEY);\n  savedLine = savedLine ? savedLine : [];\n  localStore.save(LINE_KEY, savedLine);\n}\n","import ApiService from '../ApiService';\nimport { localStore } from '../utils/loc-storage';\n\nconst api = new ApiService();\nasync function getFilms() {\n  const res = await api.fetchTrendingMovies();\n  localStore.save('trendingFilms', res.data.results);\n}\n\ngetFilms();\n"],"names":["Object","defineProperty","module","exports","value","default","receiver","privateMap","action","has","TypeError","get","descriptor","call","obj","privateCollection","parcelRequire","document","querySelector","$0231f23712a163b4$export$66921f676455c525","$0231f23712a163b4$export$18967640b1430a3","$0231f23712a163b4$export$161bf839e562c1df","$0231f23712a163b4$export$8759e09ada778193","querySelectorAll","$e13576b86460cc50$exports","$e13576b86460cc50$var$_classExtractFieldDescriptor","$e13576b86460cc50$var$_classApplyDescriptorGet","$e13576b86460cc50$var$_interopRequireDefault","__esModule","$bb98491953509995$exports","$bb98491953509995$var$_checkPrivateRedeclaration","set","$326eed1a0cf8dedc$var$_moviesByNameSearchParams","WeakMap","$326eed1a0cf8dedc$var$_genresSearchParams","$326eed1a0cf8dedc$var$_getMovieDetailsSearchParams","$326eed1a0cf8dedc$export$2e2bcd8739ae039","async","url","$hXrWV","urls","BASE_URL","GENRES_PATH_URL","response","$326eed1a0cf8dedc$require$axios","$parcel$interopDefault","this","data","genres","error","console","page","TRENDINGS_PATH_URL","popularMoviesSearchParams","params","api_key","API_KEY","SEARCH_PATH_URL","query","id","GET_MOVIE_DETAILS_PATH_URL","catch","include_adult","$6bc1fd834c8557c1$export$c5604fa8028da00","genre_ids","maxAmount","allGenres","JSON","parse","genresArr","i","length","genre","push","name","splice","join","$edfa7bf7998b65bb$var$api","addEventListener","event","preventDefault","searchQuery","currentTarget","elements","trim","toLowerCase","classList","add","remove","getMoviesByName","total_results","innerHTML","markup","results","map","poster_path","original_title","release_date","releaseYear","substring","genresList","posterLink","BASE_IMAGE_URL","$edfa7bf7998b65bb$var$createMarkup","insertAdjacentHTML","$aab6d1c60b3e9a0a$var$apiMovie","movieObj","fetchTrendingMovies","localStorage","setItem","stringify","title","$9bfdd1e09219f1d3$var$refs","body","openBtn","closeBtn","backdrop","$74d69e07fed19a34$export$21666b427502ea6d","modal","containerForInfo","$c17b33fa2c75104c$var$markup","compile","markup1","$gncCB","films","$46fOB","$9d4f16b468a652ac$export$5a7eca0b27412854","currentMovie","savedMovies","localStore","load","isSaved","find","film","index","indexOf","save","$ff95468e24670a21$var$onCloseBtnClick","removeEventListener","$ff95468e24670a21$var$onBackdropClick","window","$ff95468e24670a21$var$onEscClick","evt","target","className","code","queueBtn","watchedBtn","$bbkJ9","onWatchedClick","$ff95468e24670a21$var$addBtnsListeners","savedWatched","WATCHED_KEY","savedLine","$ff95468e24670a21$var$saveKeysToStorage","$3277ae55233c79ac$var$api","res","$3277ae55233c79ac$var$getFilms"],"version":3,"file":"index.19c288c9.js.map"}