var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire62cb;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire62cb=r),r("98X4p"),r("4S0r6"),r("dBfix");document.querySelector(".button--up");const o=document.querySelector(".js-gallery"),a=(document.querySelector(".pag"),document.querySelector(".search-form")),s=document.querySelector("input.js-search"),i=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),d=document.querySelector(".alert-b");document.querySelector(".header-buttons"),document.querySelectorAll(".header-button");var c=r("hXrWV"),l=r("4kseb"),u=r("aICLh"),m=r("8JeJA"),h=r("4eRSF");const g=new(0,l.default);function f(){o.innerHTML=""}a.addEventListener("submit",(async function(e,t){e.preventDefault();const n=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!n)return i.classList.add("visually-hidden"),void d.classList.remove("visually-hidden");g.query=n;const r=await g.getMoviesByName(n,t);if(0===r.total_results)d.classList.add("visually-hidden"),i.classList.remove("visually-hidden");else{i.classList.add("visually-hidden"),d.classList.add("visually-hidden"),f();const e=function(e){const{results:t}=e;return t.map((({poster_path:e,original_title:t,genre_ids:n,release_date:r,id:o})=>{const a=r.substring(0,4),s=(0,u.getGenresName)(n),i=(0,m.sliceGenres)(s);let d=`${c.urls.BASE_IMAGE_URL}${e}`;return null===e&&(d="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),`<li class="card__item" data-id=${o}>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="${d}"\n      alt="${t}"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">${t}</h2>\n    <div class="card__info">\n      <p class="card__genres">${i.join(", ")}</p>\n      <p class="card__year">${a}</p>\n    </div>\n  </div>\n</li>`})).join("")}(r);o.insertAdjacentHTML("beforeend",e)}})),(0,h.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});l=r("4kseb");var x=r("dX4f0");l=r("4kseb"),l=r("4kseb"),x=r("dX4f0");const y=new(0,l.default);async function b(e,t=1){try{const n=await y.getMoviesByName(e,t),r=n.results;if(0===n.results.length)d.classList.add("visually-hidden"),i.classList.remove("visually-hidden");else{i.classList.add("visually-hidden"),d.classList.add("visually-hidden");const e=(0,x.createMarkup)(r);f(),o.innerHTML=e}}catch(e){console.error("Error with search fetch"+e)}}x=r("dX4f0");const p=new(0,l.default),C=document.querySelector('[data-index="1"]'),v=document.querySelector('[data-index="2"]'),L=document.querySelector('[data-index="3"]'),S=document.querySelector('[data-index="4"]'),q=document.querySelector('[data-index="5"]'),w=document.querySelector(".first-button"),N=document.querySelector(".last-button"),_=document.querySelector(".pagination-container"),T=document.querySelector(".arrow-right"),M=document.querySelector(".arrow-left"),k=document.querySelector("#previous"),E=document.querySelector("#after");_.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(j=Number(e.target.textContent)),k.hidden=!0,E.hidden=!0,e.target.classList.contains("pagination-button")&&(O.forEach((e=>e.classList.remove("pagination--current"))),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&j<1e3&&(O.forEach((e=>e.classList.remove("pagination--current"))),C.classList.add("pagination--current"),C.textContent=Number(C.textContent)+1,v.textContent=Number(v.textContent)+1,L.textContent=Number(L.textContent)+1,S.textContent=Number(S.textContent)+1,q.textContent=Number(q.textContent)+1,j=C.textContent),e.target.classList.contains("arrow-left")&&j>=2&&(O.forEach((e=>e.classList.remove("pagination--current"))),C.textContent=Number(C.textContent)-1,v.textContent=Number(v.textContent)-1,L.textContent=Number(L.textContent)-1,S.textContent=Number(S.textContent)-1,q.textContent=Number(q.textContent)-1,q.classList.add("pagination--current"),j=q.textContent),e.target.classList.contains("first-button")&&(O.forEach((e=>e.classList.remove("pagination--current"))),C.textContent=1,v.textContent=2,L.textContent=3,S.textContent=4,q.textContent=5,C.classList.add("pagination--current"),j=C.textContent,M.hidden=!0,k.hidden=!0,w.hidden=!0),e.target.classList.contains("last-button")&&(O.forEach((e=>e.classList.remove("pagination--current"))),C.textContent=Number(N.textContent)-4,v.textContent=Number(N.textContent)-3,L.textContent=Number(N.textContent)-2,S.textContent=Number(N.textContent)-1,q.textContent=N.textContent,q.classList.add("pagination--current"),j=q.textContent,T.hidden=!0,E.hidden=!0,N.hidden=!0),Number(j)>=3?(M.hidden=!1,k.hidden=!1,w.hidden=!1):(M.hidden=!0,k.hidden=!0,w.hidden=!0),Number(j)<996&&(T.hidden=!1,E.hidden=!1,N.hidden=!1),window.scrollTo({top:0,behavior:"smooth"}),""!==s.value?b(s.value,j):async function(e){try{const t=(await p.fetchTrendingMovies(e)).data.results,n=(0,x.createMarkup)(t);f(),o.innerHTML=n}catch(e){console.error("Error with search fetch"+e)}}(j))}));let j=1,O=document.querySelectorAll(".pagination-button");k.hidden=!0,M.hidden=!0,w.hidden=!0;const B=new(0,l.default);document.addEventListener("DOMContentLoaded",(async function(){const e=(await B.fetchTrendingMovies()).data.results;localStorage.setItem("trendingFilms",JSON.stringify(e));const t=(0,x.createMarkup)(e);o.insertAdjacentHTML("beforeend",t)})),r("HzXMd"),r("46fOB"),r("a1Vwq"),r("gBTz3"),r("lWsHk");l=r("4kseb");r("46fOB");new(0,l.default);r("bbkJ9"),r("dvlOj"),r("kCbOd");
//# sourceMappingURL=index.d90d3be4.js.map
