!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire62cb;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire62cb=a),a("2p6Fd");var o="light-theme",c="dark-theme",s="grey-background-theme",i=document.querySelector("body"),d=document.querySelector("footer"),u=document.querySelector("#theme-switch-toggle");u.addEventListener("change",(function(){i.classList.remove(o,c),d.classList.remove(o,s),u.checked?(localStorage.setItem("Theme","darkTheme"),i.classList.add(c),d.classList.add(s)):(localStorage.setItem("Theme","lightTheme"),i.classList.add(o))})),"darkTheme"===localStorage.getItem("Theme")&&(u.setAttribute("checked",!0),i.classList.add(c),d.classList.add(s)),a("7Q2m0");var l=a("bpxeT"),m=a("2TvXO"),h=(document.querySelector(".button--up"),document.querySelector(".js-gallery")),p=(document.querySelector(".pag"),document.querySelector(".search-form")),f=document.querySelector("input.js-search"),g=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),v=document.querySelector(".alert-b"),x=(document.querySelector(".header-buttons"),document.querySelectorAll(".header-button"),a("iqi4A")),y=a("62hKk"),b=a("225Hw"),C=a("8wgAC"),L=a("8RZ1j"),S=new(0,y.default);function q(){return(q=e(l)(e(m).mark((function t(n,r){var a,o,c;return e(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=n.currentTarget.elements.searchQuery.value.trim().toLowerCase()){e.next=6;break}return g.classList.add("visually-hidden"),v.classList.remove("visually-hidden"),e.abrupt("return");case 6:return S.query=a,e.next=9,S.getMoviesByName(a,r);case 9:0===(o=e.sent).total_results?(v.classList.add("visually-hidden"),g.classList.remove("visually-hidden")):(g.classList.add("visually-hidden"),v.classList.add("visually-hidden"),T(),c=w(o),h.insertAdjacentHTML("beforeend",c));case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function w(e){return e.results.map((function(e){var t=e.poster_path,n=e.original_title,r=e.genre_ids,a=e.release_date,o=e.id,c=a.substring(0,4),s=(0,b.getGenresName)(r),i=(0,C.sliceGenres)(s),d="".concat(x.urls.BASE_IMAGE_URL).concat(t);return null===t&&(d="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),'<li class="card__item" data-id='.concat(o,'>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="').concat(d,'"\n      alt="').concat(n,'"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">').concat(n,'</h2>\n    <div class="card__info">\n      <p class="card__genres">').concat(i.join(", "),'</p>\n      <p class="card__year">').concat(c,"</p>\n    </div>\n  </div>\n</li>")})).join("")}function T(){h.innerHTML=""}p.addEventListener("submit",(function(e,t){return q.apply(this,arguments)})),(0,L.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});l=a("bpxeT"),m=a("2TvXO"),y=a("62hKk");var N=a("6hXJ8"),_=(l=a("bpxeT"),m=a("2TvXO"),y=a("62hKk"),l=a("bpxeT"),m=a("2TvXO"),y=a("62hKk"),N=a("6hXJ8"),new(0,y.default));function k(e){return M.apply(this,arguments)}function M(){return M=e(l)(e(m).mark((function t(n){var r,a,o,c,s=arguments;return e(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:1,e.prev=1,e.next=4,_.getMoviesByName(n,r);case 4:a=e.sent,o=a.results,0===a.results.length?(v.classList.add("visually-hidden"),g.classList.remove("visually-hidden")):(g.classList.add("visually-hidden"),v.classList.add("visually-hidden"),c=(0,N.createMarkup)(o),T(),h.innerHTML=c),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error with search fetch"+e.t0);case 12:case"end":return e.stop()}}),t,null,[[1,9]])}))),M.apply(this,arguments)}N=a("6hXJ8");var E=new(0,y.default),j=document.querySelector('[data-index="1"]'),A=document.querySelector('[data-index="2"]'),O=document.querySelector('[data-index="3"]'),U=document.querySelector('[data-index="4"]'),X=document.querySelector('[data-index="5"]'),B=document.querySelector(".first-button"),G=document.querySelector(".last-button"),H=document.querySelector(".pagination-container"),I=document.querySelector(".arrow-right"),J=document.querySelector(".arrow-left"),D=document.querySelector("#previous"),K=document.querySelector("#after");H.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(R=Number(e.target.textContent)),D.hidden=!0,K.hidden=!0,e.target.classList.contains("pagination-button")&&(F.forEach((function(e){return e.classList.remove("pagination--current")})),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&R<1e3&&(F.forEach((function(e){return e.classList.remove("pagination--current")})),j.classList.add("pagination--current"),j.textContent=Number(j.textContent)+5,A.textContent=Number(A.textContent)+5,O.textContent=Number(O.textContent)+5,U.textContent=Number(U.textContent)+5,X.textContent=Number(X.textContent)+5,R=j.textContent),e.target.classList.contains("arrow-left")&&R>=5&&(F.forEach((function(e){return e.classList.remove("pagination--current")})),j.textContent=Number(j.textContent)-5,A.textContent=Number(A.textContent)-5,O.textContent=Number(O.textContent)-5,U.textContent=Number(U.textContent)-5,X.textContent=Number(X.textContent)-5,X.classList.add("pagination--current"),R=X.textContent),e.target.classList.contains("first-button")&&(F.forEach((function(e){return e.classList.remove("pagination--current")})),j.textContent=1,A.textContent=2,O.textContent=3,U.textContent=4,X.textContent=5,j.classList.add("pagination--current"),R=j.textContent,J.hidden=!0,D.hidden=!0,B.hidden=!0),e.target.classList.contains("last-button")&&(F.forEach((function(e){return e.classList.remove("pagination--current")})),j.textContent=Number(G.textContent)-4,A.textContent=Number(G.textContent)-3,O.textContent=Number(G.textContent)-2,U.textContent=Number(G.textContent)-1,X.textContent=G.textContent,X.classList.add("pagination--current"),R=X.textContent,I.hidden=!0,K.hidden=!0,G.hidden=!0),Number(R)>5?(J.hidden=!1,D.hidden=!1,B.hidden=!1):(J.hidden=!0,D.hidden=!0,B.hidden=!0),Number(R)<996&&(I.hidden=!1,K.hidden=!1,G.hidden=!1),window.scrollTo({top:0,behavior:"smooth"}),""!==f.value?k(f.value,R):function(e){Q.apply(this,arguments)}(R))}));var R=1,F=document.querySelectorAll(".pagination-button");function Q(){return(Q=e(l)(e(m).mark((function t(n){var r,a,o;return e(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.fetchTrendingMovies(n);case 3:r=e.sent,a=r.data.results,o=(0,N.createMarkup)(a),T(),h.innerHTML=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error with search fetch"+e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}D.hidden=!0,J.hidden=!0,B.hidden=!0;var z=new(0,y.default);function P(){return(P=e(l)(e(m).mark((function t(){var n,r,a;return e(m).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.fetchTrendingMovies();case 2:n=e.sent,r=n.data.results,localStorage.setItem("trendingFilms",JSON.stringify(r)),a=(0,N.createMarkup)(r),h.insertAdjacentHTML("beforeend",a);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return P.apply(this,arguments)})),a("ewLqX"),a("4pmU7"),a("84aGp"),a("99tBi"),a("iSUmJ");y=a("62hKk");a("4pmU7");new(0,y.default);a("5N6jj"),a("9LWrY"),a("3DdUG")}();
//# sourceMappingURL=index.6fc8ada5.js.map
