function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},o={},a=t.parcelRequire62cb;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in o){var t=o[e];delete o[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){o[e]=t},t.parcelRequire62cb=a),a.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),a.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),a.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}})),a("98X4p");document.querySelector(".button--up");const s=document.querySelector(".js-gallery"),r=(document.querySelector(".pag"),document.querySelector(".search-form")),i=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),d=document.querySelector(".alert-b");document.querySelector(".header-buttons"),document.querySelectorAll(".header-button");var c=a("hXrWV"),l={};Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(e,t){var n=u.default(e,t,"get");return m.default(e,n)};var u=p(a("fExtF")),m=p(a("iaRLo"));function p(e){return e&&e.__esModule?e:{default:e}}var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default=function(e,t,n){v.default(e,t),t.set(e,n)};var f,v=(f=a("7K24o"))&&f.__esModule?f:{default:f};c=a("hXrWV");var h=a("2shzp").default,y=new WeakMap,b=new WeakMap,g=new WeakMap;class w{async fetchGenres(){const t=c.urls.BASE_URL+c.urls.GENRES_PATH_URL;try{const n=await h.get(t,e(l)(this,b));return n.data.genres}catch(e){console.error(e)}}async fetchTrendingMovies(e=1){const t=c.urls.BASE_URL+c.urls.TRENDINGS_PATH_URL,n={params:{api_key:c.API_KEY,page:e}};try{return await h.get(t,n)}catch(e){console.error(e)}}async fetchMoviesByName(){const t=c.urls.BASE_URL+c.urls.SEARCH_PATH_URL;try{return await h.get(t,e(l)(this,y))}catch(e){console.error(e)}}async getMoviesByName(t,n=1){e(l)(this,y).params.query=t,e(l)(this,y).params.page=n;const o=c.urls.BASE_URL+c.urls.SEARCH_PATH_URL;return(await h.get(o,e(l)(this,y))).data}async fetchMoviesByID(t){const n=c.urls.BASE_URL+c.urls.GET_MOVIE_DETAILS_PATH_URL+t;try{return(await h.get(n,e(l)(this,g))).data}catch(e){console.error(e)}}catch(e){console.error(e)}constructor(){e(_)(this,y,{writable:!0,value:{params:{api_key:c.API_KEY,query:"",page:1,include_adult:!1}}}),e(_)(this,b,{writable:!0,value:{params:{api_key:c.API_KEY}}}),e(_)(this,g,{writable:!0,value:{params:{api_key:c.API_KEY}}})}}function L(e,t){const n=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}').genres;let o=[];for(let a=0;a<t&&a<e.length;a+=1)for(genre of n)e[a]===genre.id&&o.push(genre.name);return e.length>t&&o.splice(t-1,1,"Other"),o.join(", ")}var S,E,x={};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}S="undefined"!=typeof self?self:void 0,E=function(e){e.addBackToTop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.backgroundColor,n=void 0===t?"#000":t,o=e.cornerOffset,a=void 0===o?20:o,s=e.diameter,r=void 0===s?56:s,i=e.ease,d=void 0===i?z:i,c=e.id,l=void 0===c?"back-to-top":c,u=e.innerHTML,m=void 0===u?'<svg viewBox="0 0 24 24"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></svg>':u,p=e.onClickScrollTo,_=void 0===p?0:p,f=e.scrollContainer,v=void 0===f?document.body:f,h=e.scrollDuration,y=void 0===h?100:h,b=e.showWhenScrollTopIs,g=void 0===b?1:b,w=e.size,L=void 0===w?r:w,S=e.textColor,E=void 0===S?"#fff":S,x=e.zIndex,k=void 0===x?1:x,M=v===document.body,T=M&&document.documentElement;j();var q=H(),A=!0,B=M?window:v;function C(){I()>=g?O():R()}function O(){A&&(q.className="",A=!1)}function R(){A||(q.className="hidden",A=!0)}function H(){var e=document.createElement("div");return e.id=l,e.className="hidden",e.innerHTML=m,e.addEventListener("click",(function(e){e.preventDefault(),N()})),document.body.appendChild(e),e}function j(){var e=Math.round(.43*L),t=Math.round(.29*L),o="#"+l+"{background:"+n+";-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;bottom:"+a+"px;-webkit-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);-moz-box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-shadow:0 2px 5px 0 rgba(0,0,0,.26);color:"+E+";cursor:pointer;display:block;height:"+L+"px;opacity:1;outline:0;position:fixed;right:"+a+"px;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none;-webkit-transition:bottom .2s,opacity .2s;-o-transition:bottom .2s,opacity .2s;-moz-transition:bottom .2s,opacity .2s;transition:bottom .2s,opacity .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:"+L+"px;z-index:"+k+"}#"+l+" svg{display:block;fill:currentColor;height:"+e+"px;margin:"+t+"px auto 0;width:"+e+"px}#"+l+".hidden{bottom:-"+L+"px;opacity:0}",s=document.createElement("style");s.appendChild(document.createTextNode(o)),document.head.insertAdjacentElement("afterbegin",s)}function N(){var e="function"==typeof _?_():_,t=window,n=t.performance,o=t.requestAnimationFrame;if(y<=0||void 0===n||void 0===o)return P(e);var a=n.now(),s=I(),r=s-e;o((function e(t){var n=Math.min((t-a)/y,1);P(s-Math.round(d(n)*r)),n<1&&o(e)}))}function I(){return v.scrollTop||T&&document.documentElement.scrollTop||0}function P(e){v.scrollTop=e,T&&(document.documentElement.scrollTop=e)}function z(e){return.5*(1-Math.cos(Math.PI*e))}B.addEventListener("scroll",C),C()}},"function"==typeof define&&define.amd?define(["exports"],E):"object"===k(x)&&"string"!=typeof x.nodeName?E(x):E(S.commonJsStrict={});const M=new w;r.addEventListener("submit",(async function(e){e.preventDefault();const t=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!t)return i.classList.add("visually-hidden"),void d.classList.remove("visually-hidden");const n=await M.getMoviesByName(t);if(0===n.total_results)d.classList.add("visually-hidden"),i.classList.remove("visually-hidden");else{i.classList.add("visually-hidden"),d.classList.add("visually-hidden"),s.innerHTML="";const e=function(e){const{results:t}=e;return t.map((({poster_path:e,original_title:t,genre_ids:n,release_date:o,id:a})=>{const s=o.substring(0,4),r=L(n,3);let i=`${c.urls.BASE_IMAGE_URL}${e}`;return null===e&&(i="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),`<li class="card__item">\n  <div class="card__img-wrap">\n    <img\n      src="${i}"\n      alt="${t}"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap">\n    <h2 class="card__name">${t}</h2>\n    <div class="card__info">\n      <p class="visually-hidden">${a}</p>\n      <p class="card__genres">${r}</p>\n      <p class="card__year">${s}</p>\n    </div>\n  </div>\n</li>`})).join("")}(n);s.insertAdjacentHTML("beforeend",e)}})),(0,x.addBackToTop)({diameter:45,backgroundColor:"transparent",innerHtml:'<symbol id="icon-circle-up" viewBox="0 0 32 32"><path d="M0 16c0 8.837 7.163 16 16 16s16-7.163 16-16-7.163-16-16-16-16 7.163-16 16zM29 16c0 7.18-5.82 13-13 13s-13-5.82-13-13 5.82-13 13-13 13 5.82 13 13z"></path><path d="M22.086 20.914l2.829-2.829-8.914-8.914-8.914 8.914 2.828 2.828 6.086-6.086z"></path></symbol>',textColor:"#e5882c"});c=a("hXrWV");const T=new w;document.addEventListener("DOMContentLoaded",(async function(){const e=(await T.fetchTrendingMovies()).data.results;localStorage.setItem("trendingFilms",JSON.stringify(e));const t=e.map((({genre_ids:e,title:t,poster_path:n,release_date:o})=>`<li class="card__item">\n  <div class="card__img-wrap">\n    <img\n      src="${c.urls.BASE_IMAGE_URL}${n}"\n      alt="${t}"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap">\n    <h2 class="card__name">${t}</h2>\n    <div class="card__info">\n      <p class="card__genres">Drama, Action<span class="card__year"></span></p>\n      <p class="card__year">2022</p>\n    </div>\n  </div>\n</li>`)).join("");s.insertAdjacentHTML("beforeend",t)})),a("HzXMd"),a("46fOB");const q={body:document.body,openBtn:document.querySelector("button[data-modal-open]"),closeBtn:document.querySelector("button[data-modal-close]"),backdrop:document.querySelector("div[data-modal]")};q.openBtn.addEventListener("click",(function(){q.backdrop.classList.remove("is-hidden")})),q.closeBtn.addEventListener("click",(function(){q.backdrop.classList.add("is-hidden")}));const A={body:document.body,openBtn:document.querySelector("button[data-modal-open]"),closeBtn:document.querySelector("button[data-modal-close]"),backdrop:document.querySelector("div[data-modal]"),modal:document.querySelector("div.js-movie-card"),containerForInfo:document.querySelector("div.modal__container")};var B=a("gncCB");const C=a("amrNH").compile('<div class="modal__content">\n  <div class="img-thumb">\n  {{#if poster_path}}\n    <picture class="main-modal-img">\n      <source\n        srcset="https://image.tmdb.org/t/p/original{{poster_path}}"\n        media="(min-width: 1024px)"\n      />\n      <source\n        srcset="\n          https://image.tmdb.org/t/p/w780{{poster_path}}  1x,\n          https://image.tmdb.org/t/p/original{{poster_path}} 2x\n        "\n        media="(min-width: 768px)"\n      />\n      <source\n        srcset="\n          https://image.tmdb.org/t/p/w342{{poster_path}} 1x,\n          https://image.tmdb.org/t/p/w780{{poster_path}} 2x\n        "\n        media="(min-width: 320px)"\n      />\n\n      <img\n        src="https://image.tmdb.org/t/p/w342{{poster_path}}"\n        alt="{{title}}"\n        class="main-modal-img"\n      />\n    </picture>\n    {{else}}\n      <img\n      src=\'https://cdn.pixabay.com/photo/2014/03/25/16/27/movie-297135_960_720.png\'\n          alt="{{title}}"\n          class="main-modal-img"\n        />\n    {{/if}}\n  </div>\n  <div class="modal__info-container">\n    <h2 class="modal__title">{{title}}</h2>\n    <table class="modal__stats">\n      <tr class="stats__row">\n        <td class="stats__name">Vote</td>\n        <td class="stats__value">\n          <span class="accent-num">{{vote_average}}</span> /\n          <span class="grey-num">{{vote_count}}</span>\n        </td>\n      </tr>\n      <tr class="stats__row">\n        <td class="stats__name">Popularity</td>\n        <td class="stats__value">{{popularity}}</td>\n      </tr>\n      <tr class="stats__row">\n      {{#if original_title}}\n        <td class="stats__name">Original Title</td>\n        <td class="stats__value">{{original_title}}</td>\n        {{else}}\n        <td class="stats__name">Title</td>\n        <td class="stats__value">{{title}}</td>\n        {{/if}}\n      </tr>\n      <tr class="stats__row">\n      {{#if genre_ids}}\n        <td class="stats__name">Genre</td>\n        <td class="stats__value">{{genre_ids}}</td>\n      {{/if}}\n      </tr>\n    </table>\n\n    <section class="modal__about">\n      <h3 class="about__title">About</h3>\n      <p class="about__text">{{overview}}</p>\n    </section>\n    <div class="modal__buttons">\n      <button\n        type="button"\n        class="modal__btn modal__btn--orange"\n        data-modal-watched\n      >\n        add to watched\n      </button>\n      <button\n        type="button"\n        class="modal__btn modal__btn--light"\n        data-modal-queue\n      >\n        add to queue\n      </button>\n    </div>\n  </div>\n</div>');var O;O=C(B.films[9]),A.containerForInfo.innerHTML=O;var R=a("bbkJ9"),H=a("46fOB");function j(e){const t=H.localStore.load("queue"),n=t.find((t=>t.id===e.id));if(n){const e=t.indexOf(n);t.splice(e,1),H.localStore.save("queue",t)}else t.push(e),H.localStore.save("queue",t)}H=a("46fOB"),R=a("bbkJ9");a("gncCB");H=a("46fOB");new w;function N(){A.backdrop.classList.add("is-hidden"),A.modal.classList.remove("is-open"),A.body.classList.remove("modal-shown"),A.body.removeEventListener("click",I),window.removeEventListener("keydown",P)}function I(e){"backdrop"===e.target.className&&N()}function P(e){"Escape"===e.code&&N()}A.openBtn.addEventListener("click",(function(e){e.preventDefault(),A.backdrop.classList.remove("is-hidden"),A.modal.classList.add("is-open"),A.body.classList.add("modal-shown"),A.body.addEventListener("click",I),window.addEventListener("keydown",P),function(){const e=document.querySelector("button[data-modal-queue]"),t=document.querySelector("button[data-modal-watched]");e.addEventListener("click",j),t.addEventListener("click",R.onWatchedClick)}(),function(){let e=H.localStore.load(R.WATCHED_KEY);e=e||[],H.localStore.save(R.WATCHED_KEY,e);let t=H.localStore.load("queue");t=t||[],H.localStore.save("queue",t)}()})),A.closeBtn.addEventListener("click",N);H=a("46fOB");const z=new w;!async function(){const e=await z.fetchTrendingMovies();H.localStore.save("trendingFilms",e.data.results)}(),a("bbkJ9");
//# sourceMappingURL=index.fb051a5e.js.map
