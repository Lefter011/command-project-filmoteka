!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequire62cb;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequire62cb=a),a("2p6Fd"),a("7Q2m0");var o=a("bpxeT"),i=a("2TvXO"),c=(document.querySelector(".button--up"),document.querySelector(".js-gallery")),s=(document.querySelector(".pag"),document.querySelector(".search-form")),u=document.querySelector("input.js-search"),d=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),l=document.querySelector(".alert-b"),p=(document.querySelector(".header-buttons"),document.querySelectorAll(".header-button"),a("iqi4A")),m=a("62hKk"),h=a("225Hw"),f=a("8wgAC"),x=a("8RZ1j"),v=new(0,m.default);function g(){return(g=e(o)(e(i).mark((function t(n,r){var a,o,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a=n.currentTarget.elements.searchQuery.value.trim().toLowerCase()){e.next=6;break}return d.classList.add("visually-hidden"),l.classList.remove("visually-hidden"),e.abrupt("return");case 6:return v.query=a,e.next=9,v.getMoviesByName(a,r);case 9:0===(o=e.sent).total_results?(l.classList.add("visually-hidden"),d.classList.remove("visually-hidden")):(d.classList.add("visually-hidden"),l.classList.add("visually-hidden"),b(),s=y(o),c.insertAdjacentHTML("beforeend",s));case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(e){return e.results.map((function(e){var t=e.poster_path,n=e.original_title,r=e.genre_ids,a=e.release_date,o=e.id,i=a.substring(0,4),c=(0,h.getGenresName)(r),s=(0,f.sliceGenres)(c),u="".concat(p.urls.BASE_IMAGE_URL).concat(t);return null===t&&(u="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),'<li class="card__item" data-id='.concat(o,'>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="').concat(u,'"\n      alt="').concat(n,'"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">').concat(n,'</h2>\n    <div class="card__info">\n      <p class="card__genres">').concat(s.join(", "),'</p>\n      <p class="card__year">').concat(i,"</p>\n    </div>\n  </div>\n</li>")})).join("")}function b(){c.innerHTML=""}s.addEventListener("submit",(function(e,t){return g.apply(this,arguments)})),(0,x.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});o=a("bpxeT"),i=a("2TvXO"),m=a("62hKk");var C=a("6hXJ8"),L=(o=a("bpxeT"),i=a("2TvXO"),m=a("62hKk"),o=a("bpxeT"),i=a("2TvXO"),m=a("62hKk"),C=a("6hXJ8"),new(0,m.default));function w(e){return q.apply(this,arguments)}function q(){return q=e(o)(e(i).mark((function t(n){var r,a,o,s,u=arguments;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:1,e.prev=1,e.next=4,L.getMoviesByName(n,r);case 4:a=e.sent,o=a.results,0===a.results.length?(l.classList.add("visually-hidden"),d.classList.remove("visually-hidden")):(d.classList.add("visually-hidden"),l.classList.add("visually-hidden"),s=(0,C.createMarkup)(o),b(),c.innerHTML=s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Error with search fetch"+e.t0);case 12:case"end":return e.stop()}}),t,null,[[1,9]])}))),q.apply(this,arguments)}C=a("6hXJ8");var S=new(0,m.default),N=document.querySelector('[data-index="1"]'),_=document.querySelector('[data-index="2"]'),T=document.querySelector('[data-index="3"]'),k=document.querySelector('[data-index="4"]'),M=document.querySelector('[data-index="5"]'),j=document.querySelector(".first-button"),E=document.querySelector(".last-button"),O=document.querySelector(".pagination-container"),A=document.querySelector(".arrow-right"),U=document.querySelector(".arrow-left"),X=document.querySelector("#previous"),B=document.querySelector("#after");O.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(G=Number(e.target.textContent)),X.hidden=!0,B.hidden=!0,e.target.classList.contains("pagination-button")&&(H.forEach((function(e){return e.classList.remove("pagination--current")})),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&G<1e3&&(H.forEach((function(e){return e.classList.remove("pagination--current")})),N.classList.add("pagination--current"),N.textContent=Number(N.textContent)+5,_.textContent=Number(_.textContent)+5,T.textContent=Number(T.textContent)+5,k.textContent=Number(k.textContent)+5,M.textContent=Number(M.textContent)+5,G=N.textContent),e.target.classList.contains("arrow-left")&&G>=5&&(H.forEach((function(e){return e.classList.remove("pagination--current")})),N.textContent=Number(N.textContent)-5,_.textContent=Number(_.textContent)-5,T.textContent=Number(T.textContent)-5,k.textContent=Number(k.textContent)-5,M.textContent=Number(M.textContent)-5,M.classList.add("pagination--current"),G=M.textContent),e.target.classList.contains("first-button")&&(H.forEach((function(e){return e.classList.remove("pagination--current")})),N.textContent=1,_.textContent=2,T.textContent=3,k.textContent=4,M.textContent=5,N.classList.add("pagination--current"),G=N.textContent,U.hidden=!0,X.hidden=!0,j.hidden=!0),e.target.classList.contains("last-button")&&(H.forEach((function(e){return e.classList.remove("pagination--current")})),N.textContent=Number(E.textContent)-4,_.textContent=Number(E.textContent)-3,T.textContent=Number(E.textContent)-2,k.textContent=Number(E.textContent)-1,M.textContent=E.textContent,M.classList.add("pagination--current"),G=M.textContent,A.hidden=!0,B.hidden=!0,E.hidden=!0),Number(G)>5?(U.hidden=!1,X.hidden=!1,j.hidden=!1):(U.hidden=!0,X.hidden=!0,j.hidden=!0),Number(G)<996&&(A.hidden=!1,B.hidden=!1,E.hidden=!1),window.scrollTo({top:0,behavior:"smooth"}),""!==u.value?w(u.value,G):function(e){J.apply(this,arguments)}(G))}));var G=1,H=document.querySelectorAll(".pagination-button");function J(){return(J=e(o)(e(i).mark((function t(n){var r,a,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.fetchTrendingMovies(n);case 3:r=e.sent,a=r.data.results,o=(0,C.createMarkup)(a),b(),c.innerHTML=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error with search fetch"+e.t0);case 13:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}X.hidden=!0,U.hidden=!0,j.hidden=!0;var D=new(0,m.default);function K(){return(K=e(o)(e(i).mark((function t(){var n,r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.fetchTrendingMovies();case 2:n=e.sent,r=n.data.results,localStorage.setItem("trendingFilms",JSON.stringify(r)),a=(0,C.createMarkup)(r),c.insertAdjacentHTML("beforeend",a);case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){return K.apply(this,arguments)})),a("ewLqX"),a("4pmU7"),a("84aGp"),a("99tBi"),a("iSUmJ");m=a("62hKk");a("4pmU7");new(0,m.default);a("5N6jj"),a("9LWrY"),a("3DdUG")}();
//# sourceMappingURL=index.247b7fad.js.map
