var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire62cb;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire62cb=r),r("98X4p");const a="light-theme",o="dark-theme",s="grey-background-theme",d=document.querySelector("body"),i=document.querySelector("footer"),c=document.querySelector("#theme-switch-toggle");c.addEventListener("change",(()=>{d.classList.remove(a,o),i.classList.remove(a,s),c.checked?(localStorage.setItem("Theme","darkTheme"),d.classList.add(o),i.classList.add(s)):(localStorage.setItem("Theme","lightTheme"),d.classList.add(a))})),"darkTheme"===localStorage.getItem("Theme")&&(c.setAttribute("checked",!0),d.classList.add(o),i.classList.add(s)),r("dBfix");document.querySelector(".button--up");const l=document.querySelector(".js-gallery"),u=(document.querySelector(".pag"),document.querySelector(".search-form")),m=document.querySelector("input.js-search"),h=(document.querySelector(".js-movie-card"),document.querySelector("#accordion"),document.querySelector(".js-spinner"),document.querySelector("#header"),document.querySelector(".alert-a")),g=document.querySelector(".alert-b");document.querySelector(".header-buttons"),document.querySelectorAll(".header-button");var y=r("hXrWV"),f=r("4kseb"),x=r("aICLh"),b=r("8JeJA"),v=r("4eRSF");const p=new(0,f.default);function C(){l.innerHTML=""}u.addEventListener("submit",(async function(e,t){e.preventDefault();const n=e.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!n)return h.classList.add("visually-hidden"),void g.classList.remove("visually-hidden");p.query=n;const r=await p.getMoviesByName(n,t);if(0===r.total_results)g.classList.add("visually-hidden"),h.classList.remove("visually-hidden");else{h.classList.add("visually-hidden"),g.classList.add("visually-hidden"),C();const e=function(e){const{results:t}=e;return t.map((({poster_path:e,original_title:t,genre_ids:n,release_date:r,id:a})=>{const o=r.substring(0,4),s=(0,x.getGenresName)(n),d=(0,b.sliceGenres)(s);let i=`${y.urls.BASE_IMAGE_URL}${e}`;return null===e&&(i="https://i.postimg.cc/zG4yJ7P4/No-Image-Available.jpg"),`<li class="card__item" data-id=${a}>\n  <div class="card__img-wrap js-modal-trigger">\n    <img\n      src="${i}"\n      alt="${t}"\n      class="card__img"\n    />\n  </div>\n  <div class="card__text-wrap js-modal-trigger">\n    <h2 class="card__name">${t}</h2>\n    <div class="card__info">\n      <p class="card__genres">${d.join(", ")}</p>\n      <p class="card__year">${o}</p>\n    </div>\n  </div>\n</li>`})).join("")}(r);l.insertAdjacentHTML("beforeend",e)}})),(0,v.addBackToTop)({diameter:45,backgroundColor:"transparent",textColor:"#e5882c"});f=r("4kseb");var L=r("dX4f0");f=r("4kseb"),f=r("4kseb"),L=r("dX4f0");const S=new(0,f.default);async function q(e,t=1){try{const n=await S.getMoviesByName(e,t),r=n.results;if(0===n.results.length)g.classList.add("visually-hidden"),h.classList.remove("visually-hidden");else{h.classList.add("visually-hidden"),g.classList.add("visually-hidden");const e=(0,L.createMarkup)(r);C(),l.innerHTML=e}}catch(e){console.error("Error with search fetch"+e)}}L=r("dX4f0");const w=new(0,f.default),N=document.querySelector('[data-index="1"]'),_=document.querySelector('[data-index="2"]'),T=document.querySelector('[data-index="3"]'),k=document.querySelector('[data-index="4"]'),M=document.querySelector('[data-index="5"]'),E=document.querySelector(".first-button"),j=document.querySelector(".last-button"),O=document.querySelector(".pagination-container"),A=document.querySelector(".arrow-right"),B=document.querySelector(".arrow-left"),$=document.querySelector("#previous"),H=document.querySelector("#after");O.addEventListener("click",(function(e){"BUTTON"===e.target.tagName&&(Number(e.target.textContent)&&(I=Number(e.target.textContent)),$.hidden=!0,H.hidden=!0,e.target.classList.contains("pagination-button")&&(X.forEach((e=>e.classList.remove("pagination--current"))),e.target.classList.add("pagination--current")),e.target.classList.contains("arrow-right")&&I<1e3&&(X.forEach((e=>e.classList.remove("pagination--current"))),N.classList.add("pagination--current"),N.textContent=Number(N.textContent)+5,_.textContent=Number(_.textContent)+5,T.textContent=Number(T.textContent)+5,k.textContent=Number(k.textContent)+5,M.textContent=Number(M.textContent)+5,I=N.textContent),e.target.classList.contains("arrow-left")&&I>=5&&(X.forEach((e=>e.classList.remove("pagination--current"))),N.textContent=Number(N.textContent)-5,_.textContent=Number(_.textContent)-5,T.textContent=Number(T.textContent)-5,k.textContent=Number(k.textContent)-5,M.textContent=Number(M.textContent)-5,M.classList.add("pagination--current"),I=M.textContent),e.target.classList.contains("first-button")&&(X.forEach((e=>e.classList.remove("pagination--current"))),N.textContent=1,_.textContent=2,T.textContent=3,k.textContent=4,M.textContent=5,N.classList.add("pagination--current"),I=N.textContent,B.hidden=!0,$.hidden=!0,E.hidden=!0),e.target.classList.contains("last-button")&&(X.forEach((e=>e.classList.remove("pagination--current"))),N.textContent=Number(j.textContent)-4,_.textContent=Number(j.textContent)-3,T.textContent=Number(j.textContent)-2,k.textContent=Number(j.textContent)-1,M.textContent=j.textContent,M.classList.add("pagination--current"),I=M.textContent,A.hidden=!0,H.hidden=!0,j.hidden=!0),Number(I)>5?(B.hidden=!1,$.hidden=!1,E.hidden=!1):(B.hidden=!0,$.hidden=!0,E.hidden=!0),Number(I)<996&&(A.hidden=!1,H.hidden=!1,j.hidden=!1),window.scrollTo({top:0,behavior:"smooth"}),""!==m.value?q(m.value,I):async function(e){try{const t=(await w.fetchTrendingMovies(e)).data.results,n=(0,L.createMarkup)(t);C(),l.innerHTML=n}catch(e){console.error("Error with search fetch"+e)}}(I))}));let I=1,X=document.querySelectorAll(".pagination-button");$.hidden=!0,B.hidden=!0,E.hidden=!0;const J=new(0,f.default);document.addEventListener("DOMContentLoaded",(async function(){const e=(await J.fetchTrendingMovies()).data.results;localStorage.setItem("trendingFilms",JSON.stringify(e));const t=(0,L.createMarkup)(e);l.insertAdjacentHTML("beforeend",t)})),r("HzXMd"),r("46fOB"),r("a1Vwq"),r("gBTz3"),r("lWsHk");f=r("4kseb");r("46fOB");new(0,f.default);r("bbkJ9"),r("dvlOj"),r("kCbOd");
//# sourceMappingURL=index.aded5a0c.js.map
